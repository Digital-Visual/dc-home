!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=111)}({111:function(e,t,r){r(112),e.exports=r(115)},112:function(e,t,r){"use strict";r.r(t);var n=function(e){if(!e)throw new Error("Missing Base SDK");e.init((function(){r(113)})),e.ready=function(t){try{e.Initialized||(r(114),r(126),e.Initialized=!0),t&&t()}catch(e){delete window.DC,console.error(e)}}};"undefined"!=typeof window&&window.DC&&n(window.DC),t.default={install:n}},113:function(e,t,r){"use strict";r.r(t);var n=r(8),o=r(15),i=r(27),a=r(20),c=r(18),s=r(44),u=r(9),l=r(19),f=r(12),p=r(26),y={DomUtil:n.a,Util:n.b,State:u.a,Event:o.b,ImageryType:c.a,LayerType:i.e,OverlayType:a.g,MouseEventType:o.f,SceneEventType:o.j,WidgetType:s.a,Layer:i.d,Overlay:a.f,Position:l.a,Transform:f.a,T:f.a,Parse:p.a,P:p.a};DC.mixin(y)},114:function(e,t){var r=DC.Namespace.Cesium;DC.Cartesian2=r.Cartesian2,DC.Cartesian3=r.Cartesian3,DC.SceneMode=r.SceneMode,DC.TilesetStyle=r.Cesium3DTileStyle,DC.CallbackProperty=r.CallbackProperty,DC.JulianDate=r.JulianDate,DC.ClassificationType=r.ClassificationType,DC.Color=r.Color,DC.ColorMaterialProperty=r.ColorMaterialProperty,DC.ImageMaterialProperty=r.ImageMaterialProperty,DC.PolylineDashMaterialProperty=r.PolylineDashMaterialProperty,DC.PolylineGlowMaterialProperty=r.PolylineGlowMaterialProperty,DC.PolylineOutlineMaterialProperty=r.PolylineOutlineMaterialProperty,DC.PolylineArrowMaterialProperty=r.PolylineArrowMaterialProperty},115:function(e,t,r){"use strict";r.r(t);r(116),r(117),r(118),r(119),r(120),r(121),r(122),r(123),r(124)},116:function(e,t,r){},117:function(e,t,r){},118:function(e,t,r){},119:function(e,t,r){},12:function(e,t,r){"use strict";var n=r(19);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=DC.Namespace.Cesium,a=new i.WebMercatorProjection,c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,c;return t=e,c=[{key:"transformCartesianToWGS84",value:function(e){if(e){var t=i.Ellipsoid.WGS84.cartesianToCartographic(e);return new n.a(i.Math.toDegrees(t.longitude),i.Math.toDegrees(t.latitude),t.height)}return new n.a(0,0)}},{key:"transformWGS84ToCartesian",value:function(e){return e?i.Cartesian3.fromDegrees(e.lng,e.lat,e.alt,i.Ellipsoid.WGS84):i.Cartesian3.ZERO}},{key:"transformWGS84ToCartographic",value:function(e){return e?i.Cartographic.fromDegrees(e.lng,e.lat,e.alt):i.Cartographic.ZERO}},{key:"transformCartesianArrayToWGS84Array",value:function(e){var t=this;return e?e.map((function(e){return t.transformCartesianToWGS84(e)})):[]}},{key:"transformWGS84ArrayToCartesianArray",value:function(e){var t=this;return e?e.map((function(e){return t.transformWGS84ToCartesian(e)})):[]}},{key:"transformWGS84ToMercator",value:function(e){var t=a.project(i.Cartographic.fromDegrees(e.lng,e.lat,e.alt));return new n.a(t.x,t.y,t.z)}},{key:"transformMercatorToWGS84",value:function(e){var t=a.unproject(new i.Cartesian3(e.lng,e.lat,e.alt));return new n.a(i.Math.toDegrees(t.longitude),i.Math.toDegrees(t.latitude),t.height)}},{key:"transformWindowToWGS84",value:function(e,t){var r=t.scene,n=void 0;if(r.mode===i.SceneMode.SCENE3D){var o=r.camera.getPickRay(e);n=r.globe.pick(o,r)}else n=r.camera.pickEllipsoid(e,i.Ellipsoid.WGS84);return this.transformCartesianToWGS84(n)}},{key:"transformWGS84ToWindow",value:function(e,t){var r=t.scene;return SceneTransforms.wgs84ToWindowCoordinates(r,this.transformWGS84ToCartesian(e))}}],(r=null)&&o(t.prototype,r),c&&o(t,c),e}();t.a=c},120:function(e,t,r){},121:function(e,t,r){},122:function(e,t,r){},123:function(e,t,r){},124:function(e,t,r){},126:function(e,t,r){"use strict";r.r(t);var n=r(18);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=DC.Namespace.Cesium,f="https://webst{s}.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",p="http://webrd{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(n,e);var t,r=(t=n,function(){var e,r=u(t);if(s()){var n=u(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return c(this,e)});function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(this,n),e.url="img"===e.style?f:p,e.subdomains&&e.subdomains.length||(e.subdomains=["01","02","03","04"]),r.call(this,e)}return n}(l.UrlTemplateImageryProvider);n.a.AMAP="amap";var h=y;function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var b=DC.Namespace.Cesium,_="http://api{s}.map.bdimg.com/customimage/tile?&x={x}&y={y}&z={z}&scale=1&customid={style}",m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(this,e),this._url=_,this._tileWidth=256,this._tileHeight=256,this._maximumLevel=18,this._tilingScheme=new b.WebMercatorTilingScheme({rectangleSouthwestInMeters:new b.Cartesian2(-33554054,-33746824),rectangleNortheastInMeters:new b.Cartesian2(33554054,33746824)}),this._rectangle=this._tilingScheme.rectangle,this._credit=void 0,this._style=t.style||"normal"}var t,r,n;return t=e,(r=[{key:"getTileCredits",value:function(e,t,r){}},{key:"requestImage",value:function(e,t,r){if(!this.ready)throw new b.DeveloperError("requestImage must not be called before the imagery provider is ready.");var n=this._tilingScheme.getNumberOfXTilesAtLevel(r),o=this._tilingScheme.getNumberOfYTilesAtLevel(r),i=this._url.replace("{x}",e-n/2).replace("{y}",o/2-t-1).replace("{z}",r).replace("{s}",1).replace("{style}",this._style);return b.ImageryProvider.loadImage(this,i)}},{key:"url",get:function(){return this._url}},{key:"token",get:function(){return this._token}},{key:"tileWidth",get:function(){if(!this.ready)throw new b.DeveloperError("tileWidth must not be called before the imagery provider is ready.");return this._tileWidth}},{key:"tileHeight",get:function(){if(!this.ready)throw new b.DeveloperError("tileHeight must not be called before the imagery provider is ready.");return this._tileHeight}},{key:"maximumLevel",get:function(){if(!this.ready)throw new b.DeveloperError("maximumLevel must not be called before the imagery provider is ready.");return this._maximumLevel}},{key:"minimumLevel",get:function(){if(!this.ready)throw new b.DeveloperError("minimumLevel must not be called before the imagery provider is ready.");return 0}},{key:"tilingScheme",get:function(){if(!this.ready)throw new b.DeveloperError("tilingScheme must not be called before the imagery provider is ready.");return this._tilingScheme}},{key:"rectangle",get:function(){if(!this.ready)throw new b.DeveloperError("rectangle must not be called before the imagery provider is ready.");return this._rectangle}},{key:"ready",get:function(){return!!this._url}},{key:"credit",get:function(){return this._credit}}])&&v(t.prototype,r),n&&v(t,n),e}();n.a.BAIDU="baidu";var g=m;function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=DC.Namespace.Cesium,T="http://mt{s}.google.cn/vt/lyrs=m@207000000&hl=zh-CN&gl=CN&src=app&x={x}&y={y}&z={z}&s=Galile",j="http://mt{s}.google.cn/vt/lyrs=t@131,r@227000000&hl=zh-CN&gl=cn&x={x}&y={y}&z={z}&s=Galile",D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(n,e);var t,r=(t=n,function(){var e,r=S(t);if(C()){var n=S(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return E(this,e)});function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return O(this,n),e.url="img"===e.style?"http://mt{s}.google.cn/vt/lyrs=s&hl=zh-CN&x={x}&y={y}&z={z}&s=Gali":"ter"===e.style?j:T,e.subdomains&&e.subdomains.length||(e.subdomains=["1","2","3","4","5"]),r.call(this,e)}return n}(P.UrlTemplateImageryProvider);n.a.GOOGLE="google";var R=D;function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var V=DC.Namespace.Cesium,G="http://t{s}.tianditu.gov.cn/{layer}_c/wmts?service=WMTS&version=1.0.0&request=GetTile&tilematrix={TileMatrix}&layer={layer}&style={style}&tilerow={TileRow}&tilecol={TileCol}&tilematrixset={TileMatrixSet}&format=tiles&tk={key}",U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(n,e);var t,r=(t=n,function(){var e,r=W(t);if(H()){var n=W(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return N(this,e)});function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return A(this,n),r.call(this,{url:G.replace(/\{layer\}/g,e.style||"vec").replace(/\{key\}/g,e.key||""),style:"default",format:"tiles",tileMatrixSetID:"c",subdomains:I(Array(6).keys()).map((function(e){return(e+1).toString()})),tileMatrixLabels:I(Array(18).keys()).map((function(e){return(e+1).toString()})),tilingScheme:new V.GeographicTilingScheme,maximumLevel:18})}return n}(V.WebMapTileServiceImageryProvider);n.a.TDT="tdt";var z=U;function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function J(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var X=DC.Namespace.Cesium,q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(n,e);var t,r=(t=n,function(){var e,r=Y(t);if(J()){var n=Y(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return K(this,e)});function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return B(this,n),e.url="https://rt{s}.map.gtimg.com/tile?z={z}&x={x}&y={reverseY}&styleid=1000&scene=0&version=347",e.subdomains&&e.subdomains.length||(e.subdomains=["0","1","2"]),r.call(this,e)}return n}(X.UrlTemplateImageryProvider);n.a.TENCENT="tdt";var $=q;function Q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ee=DC.Namespace.Cesium,te=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,o;return t=e,o=[{key:"createAmapImageryLayer",value:function(e){return new h(e)}},{key:"createBaiduImageryLayer",value:function(e){return new g(e)}},{key:"createGoogleImageryLayer",value:function(e){return new R(e)}},{key:"createTdtImageryLayer",value:function(e){return new z(e)}},{key:"createTencentImageryLayer",value:function(e){return new $(e)}},{key:"createArcGisImageryLayer",value:function(e){return new ee.ArcGisMapServerImageryProvider(e)}},{key:"createSingleTileImageryLayer",value:function(e){return new ee.SingleTileImageryProvider(e)}},{key:"createWMTSImageryLayer",value:function(e){return new ee.WebMapTileServiceImageryProvider(e)}},{key:"createXYZImageryLayer",value:function(e){return new ee.UrlTemplateImageryProvider(e)}},{key:"createCoordImageryLayer",value:function(e){return new ee.TileCoordinatesImageryProvider(e)}},{key:"createImageryLayer",value:function(e,t){var r=void 0;switch(e){case n.a.AMAP:r=this.createAmapImageryLayer(t);break;case n.a.BAIDU:r=this.createBaiduImageryLayer(t);break;case n.a.GOOGLE:r=this.createGoogleImageryLayer(t);break;case n.a.TDT:r=this.createTdtImageryLayer(t);break;case n.a.TENCENT:r=this.createTencentImageryLayer(t);break;case n.a.ARCGIS:r=this.createArcGisImageryLayer(t);break;case n.a.SINGLE_TILE:r=this.createSingleTileImageryLayer(t);break;case n.a.WMTS:r=this.createWMTSImageryLayer(t);break;case n.a.XYZ:r=this.createXYZImageryLayer(t);break;case n.a.COORD:r=this.createCoordImageryLayer(t)}return r}}],(r=null)&&Q(t.prototype,r),o&&Q(t,o),e}();function re(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ne=DC.Namespace.Cesium,oe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"createEllipsoidTerrain",value:function(e){return new ne.EllipsoidTerrainProvider(e)}},{key:"createUrlTerrain",value:function(e){return new ne.CesiumTerrainProvider(e)}},{key:"createGoogleTerrain",value:function(e){return new ne.GoogleEarthEnterpriseTerrainProvider(e)}},{key:"createArcgisTerrain",value:function(e){return new ne.ArcGISTiledElevationTerrainProvider(e)}},{key:"createVRTerrain",value:function(e){return new ne.VRTheWorldTerrainProvider(e)}}],(r=null)&&re(t.prototype,r),n&&re(t,n),e}(),ie=r(15);function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ue=DC.Namespace.Cesium,le=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._viewer=t,this._options={},this._init()}var t,r,n;return t=e,(r=[{key:"_init",value:function(){this._viewer.delegate.cesiumWidget._creditContainer.style.display="none",this._viewer.delegate.cesiumWidget.screenSpaceEventHandler.removeInputAction(ue.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),this._viewer.scene.screenSpaceCameraController.maximumZoomDistance=40489014,this._viewer.scene.backgroundColor=ue.Color.TRANSPARENT,this._viewer.delegate.imageryLayers.removeAll()}},{key:"_setViewerOption",value:function(){return this._viewer.delegate.shadows=ue.defaultValue(this._options.shadows,!1),this}},{key:"_setCanvasOption",value:function(){return options.tabIndex&&this._viewer.scene.canvas.setAttribute("tabIndex",this._options.tabIndex),this}},{key:"_setSceneOption",value:function(){var e=this._viewer.scene;return e.skyAtmosphere.show=ue.defaultValue(this._options.showAtmosphere,!0),e.sun.show=ue.defaultValue(this._options.showSun,!0),e.moon.show=ue.defaultValue(this._options.showMoon,!0),e.skyBox.show=ue.defaultValue(this._options.showSkyBox,!0),e.postProcessStages.fxaa.enabled=ue.defaultValue(this._options.enableFxaa,!1),e.screenSpaceCameraController.enableRotate=ue.defaultValue(this._options.enableRotate,!0),e.screenSpaceCameraController.enableTilt=ue.defaultValue(this._options.enableTilt,!0),e.screenSpaceCameraController.enableTranslate=ue.defaultValue(this._options.enableTranslate,!0),e.screenSpaceCameraController.enableZoom=ue.defaultValue(this._options.enableZoom,!0),e.screenSpaceCameraController.minimumZoomDistance=ue.defaultValue(this._options.distanceRange[0],1),e.screenSpaceCameraController.maximumZoomDistance=ue.defaultValue(this._options.distanceRange[1],40489014),this}},{key:"_setGlobeOption",value:function(){var e=this._viewer.scene.globe;return e.show=ue.defaultValue(this._options.showGlobe,!0),e.enableLighting=ue.defaultValue(this._options.enableLighting,!1),e.depthTestAgainstTerrain=ue.defaultValue(this._options.undergroundMode,!1),e.tileCacheSize=ue.defaultValue(this._options.tileCacheSize,100),this}},{key:"_setClockOption",value:function(){return this._viewer.clock.shouldAnimate=ue.defaultValue(this._options.shouldAnimate,!0),this}},{key:"setOptions",value:function(e){return 0===Object.keys(e).length||(this._options=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){ce(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({distanceRange:[1,40489014]},this._options,{},e),this._setViewerOption()._setCanvasOption()._setSceneOption()._setGlobeOption()._setClockOption()),this}}])&&se(t.prototype,r),n&&se(t,n),e}();function fe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var pe=DC.Namespace.Cesium,ye=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._viewer=t}var t,r,n;return t=e,(r=[{key:"setPitchRange",value:function(e,t){var r=this,n=new pe.ScreenSpaceEventHandler(this._viewer.scene.canvas);this._viewer.scene.mode===pe.SceneMode.SCENE3D&&(n.setInputAction((function(o){n.setInputAction((function(n){var o=!0,i=n.endPosition.y<n.startPosition.y;o=!(i&&r._viewer.camera.pitch>pe.Math.toRadians(t)||!i&&r._viewer.camera.pitch<pe.Math.toRadians(e)),r._viewer.scene.screenSpaceCameraController.enableTilt=o}),pe.ScreenSpaceEventType.MOUSE_MOVE)}),pe.ScreenSpaceEventType.MIDDLE_DOWN),n.setInputAction((function(e){r._viewer.scene.screenSpaceCameraController.enableTilt=!0,n.removeInputAction(pe.ScreenSpaceEventType.MOUSE_MOVE)}),pe.ScreenSpaceEventType.MIDDLE_UP))}},{key:"limitCameraToGround",value:function(){var e=this;this._viewer.camera.changed.addEventListener((function(t){e._viewer.camera._suspendTerrainAdjustment&&e._viewer.scene.mode===pe.SceneMode.SCENE3D&&(e._viewer.camera._suspendTerrainAdjustment=!1,e._viewer.camera._adjustOrthographicFrustum(!0))}))}},{key:"setBounds",value:function(e,t,r,n){}}])&&fe(t.prototype,r),n&&fe(t,n),e}(),he=r(8),de=r(9),ve=r(44);function be(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var _e=DC.Namespace.Cesium,me=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._viewer=void 0,this._position=void 0,this._enable=!1,this._wrapper=void 0,this._positionChangeable=!1,this.type=void 0}var t,r,n;return t=e,n=[{key:"registerType",value:function(e){e&&(ve.a[e.toLocaleUpperCase()]=e.toLocaleLowerCase())}},{key:"getWidgetType",value:function(e){return ve.a[e.toLocaleUpperCase()]||void 0}}],(r=[{key:"_enableHook",value:function(){!this._wrapper.parentNode&&this._viewer&&this._wrapper&&this._viewer.dcContainer.appendChild(this._wrapper),this._wrapper&&(this._wrapper.style.visibility=this._enable?"visible":"hidden")}},{key:"_updateWindowCoord",value:function(e){}},{key:"_installHook",value:function(){}},{key:"install",value:function(e){if(this._viewer=e,this._state=de.a.INSTALLED,this._viewer&&this._wrapper&&this._positionChangeable){var t=this,r=this._viewer.scene;r.postRender.addEventListener((function(){if(t._position&&t._enable&&t._updateWindowCoord&&"visible"===t._wrapper.style.visibility){var e=_e.SceneTransforms.wgs84ToWindowCoordinates(r,t._position);e&&t._updateWindowCoord(e)}}))}this._installHook&&this._installHook()}},{key:"setContent",value:function(e){return e&&"string"==typeof e?this._wrapper.innerHTML=e:e&&e instanceof Element&&this._wrapper.appendChild(e),this}},{key:"hide",value:function(){this._wrapper&&(this._wrapper.style.cssText="\n    visibility:hidden;\n    ")}},{key:"enable",set:function(e){this._enable=e,this._state=this._enable?de.a.ENABLED:de.a.DISABLED,this._enableHook&&this._enableHook()},get:function(){return this._enable}},{key:"state",get:function(){return this._state}}])&&be(t.prototype,r),n&&be(t,n),e}();function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ke(e,t){return!t||"object"!==ge(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ee(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(a,e);var t,r,n,o,i=(t=a,function(){var e,r=Ce(t);if(Ee()){var n=Ce(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return ke(this,e)});function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this))._wrapper=he.a.create("div","dc-attribution"),e._wrapper.style.cssText="\n      position: absolute;\n      left: 2px;\n      bottom: 2px;\n      font-size: 14px;\n      color: rgb(255, 255, 255);\n      background: rgba(0,0,0,0.6);\n      padding: 2px 5px;\n      border-radius: 2px;\n      user-select: none;\n      box-shadow: 2px 2px 3px #2b2b2b;\n    ",e._config=void 0,e.type=me.getWidgetType("attribution"),e._state=de.a.INSTALLED,e}return r=a,(n=[{key:"_installHook",value:function(){var e=he.a.create("span","",this._wrapper);e.innerHTML="数字视觉",e.style.cssText="margin-right:5px;";var t=he.a.create("a","",this._wrapper);t.innerHTML="Digital Visual",t.href="javascirpt:void(0)",t.onclick=function(){window.open("http://www.dvgis.cn")},t.style.cssText="color:#0078A8;",this.enable=!0}}])&&we(r.prototype,n),o&&we(r,o),a}(me);me.registerType("attribution");var Pe=Se;function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Re(e,t){return!t||"object"!==Te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Le(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Me=DC.Namespace.Cesium,Ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(a,e);var t,r,n,o,i=(t=a,function(){var e,r=Ie(t);if(Le()){var n=Ie(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return Re(this,e)});function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this))._wrapper=he.a.create("div","dc-context-menu"),e._ulEl=he.a.create("ul","menu-list",e._wrapper),e._config={},e._positionChangeable=!0,e.type=me.getWidgetType("contextmenu"),e._state=de.a.INITIALIZED,e}return r=a,(n=[{key:"_installHook",value:function(){this._viewer&&(this._viewer.on(ie.f.RIGHT_CLICK,this._rightclickHandler,this),this._viewer.on(ie.f.CLICK,this._clickHandler,this)),this._prepareDefaultMenu()}},{key:"_prepareDefaultMenu",value:function(){var e=he.a.create("li","menu-item",this._ulEl);e.innerHTML="飞到默认位置";var t=this;e.onclick=function(){t._viewer.delegate.camera.flyHome(0),t.hide()}}},{key:"_rightclickHandler",value:function(e){e&&e.position&&this._enable&&this._updateWindowCoord&&this._updateWindowCoord(Me.SceneTransforms.wgs84ToWindowCoordinates(this._viewer.delegate.scene,e.position))}},{key:"_clickHandler",value:function(e){this.hide()}},{key:"_updateWindowCoord",value:function(e){this._wrapper.style.cssText="\n    visibility:visible;\n    z-index:1;\n    transform:translate3d(".concat(Math.round(e.x),"px,").concat(Math.round(e.y),"px, 0);\n    ")}},{key:"_setCustomClass",value:function(){he.a.setClass(this._wrapper,"dc-context-menu ".concat(this._config.customClass))}},{key:"addMenuItem",value:function(e,t,r){if(!e||!t)return this;var n=he.a.create("li","menu-item"),o=this._ulEl.lastChild;n.innerHTML=e;var i=this;return t&&(n.onclick=function(){t.call(r),i.hide()}),this._ulEl.insertBefore(n,o),this}},{key:"config",set:function(e){this._config=e,e.customClass&&this._setCustomClass()}}])&&je(r.prototype,n),o&&je(r,o),a}(me);me.registerType("contextmenu");var xe=Ae;function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function We(e,t){return(We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ve(e,t){return!t||"object"!==Ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ge(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&We(e,t)}(a,e);var t,r,n,o,i=(t=a,function(){var e,r=Ue(t);if(Ge()){var n=Ue(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return Ve(this,e)});function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this))._wrapper=he.a.create("div","dc-location-bar"),e._mouseEl=he.a.create("div","mouse-location",e._wrapper),e._cameraEl=he.a.create("div","camera-location",e._wrapper),e.type=me.getWidgetType("location_bar"),e._state=de.a.INITIALIZED,e}return r=a,(n=[{key:"_installHook",value:function(){this._viewer.on(ie.f.MOUSE_MOVE,this._moveHandler,this),this._viewer.on(ie.j.CAMERA_CHANGED,this._cameraHandler,this)}},{key:"_moveHandler",value:function(e){this._enable}},{key:"_cameraHandler",value:function(e){this._enable}}])&&He(r.prototype,n),o&&He(r,o),a}(me);me.registerType("location_bar");var Fe=ze;function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ze(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Je(e,t){return!t||"object"!==Be(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ye(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qe=DC.Namespace.Cesium,$e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(a,e);var t,r,n,o,i=(t=a,function(){var e,r=Xe(t);if(Ye()){var n=Xe(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return Je(this,e)});function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this))._wrapper=he.a.create("div","dc-slider"),e._baseLayer=void 0,e._moveActive=!1,e.type=me.getWidgetType("map_split"),e._state=de.a.INITIALIZED,e}return r=a,(n=[{key:"_installHook",value:function(){var e=new qe.ScreenSpaceEventHandler(this._wrapper),t=this;e.setInputAction((function(){t._moveActive=!0}),qe.ScreenSpaceEventType.LEFT_DOWN),e.setInputAction((function(){t._moveActive=!0}),qe.ScreenSpaceEventType.PINCH_START),e.setInputAction((function(e){t._moveHandler(e)}),qe.ScreenSpaceEventType.MOUSE_MOVE),e.setInputAction((function(e){t._moveHandler(e)}),qe.ScreenSpaceEventType.PINCH_MOVE),e.setInputAction((function(){t._moveActive=!1}),qe.ScreenSpaceEventType.LEFT_UP),e.setInputAction((function(){t._moveActive=!1}),qe.ScreenSpaceEventType.PINCH_END)}},{key:"_moveHandler",value:function(e){if(this._moveActive&&this._enable){var t=e.endPosition.x,r=(this._wrapper.offsetLeft+t)/this._wrapper.parentElement.offsetWidth;this._wrapper.style.left=100*r+"%",this._viewer.scene.imagerySplitPosition=r}}},{key:"addBaseLayer",value:function(e,t){return this._viewer&&this._enable?(e&&(this._baseLayer&&this._viewer.delegate.imageryLayers.remove(this._baseLayer),this._baseLayer=this._viewer.delegate.imageryLayers.addImageryProvider(e),this._baseLayer.splitDirection=t||0,this._viewer.scene.imagerySplitPosition=this._wrapper.offsetLeft/this._wrapper.parentElement.offsetWidth),this):this}}])&&Ze(r.prototype,n),o&&Ze(r,o),a}(me);me.registerType("map_split");var Qe=$e;function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rt(e,t){return(rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nt(e,t){return!t||"object"!==et(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ot(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var at=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rt(e,t)}(a,e);var t,r,n,o,i=(t=a,function(){var e,r=it(t);if(ot()){var n=it(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return nt(this,e)});function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this))._wrapper=he.a.create("div","dc-map-switch"),e._config=void 0,e._cache=[],e.type=me.getWidgetType("map_switch"),e._state=de.a.INITIALIZED,e}return r=a,(n=[{key:"_enableHook",value:function(){!this._wrapper.parentNode&&this._viewer&&this._wrapper&&this._viewer.dcContainer.appendChild(this._wrapper)}},{key:"_installHook",value:function(){var e=this;this.enable=!0;var t=this;this._wrapper.onmouseover=function(){var r=80;t._cache.length>0&&(r=85.7*t._cache.length),e._wrapper.style.width="".concat(r,"px")},this._wrapper.onmouseout=function(){t._wrapper.style.width="80px"}}},{key:"_addItem",value:function(e){var t=this,r=he.a.create("div","map-item",this._wrapper),n=this._cache.length?this._cache.length-1:0;r.setAttribute("data-index",n),r.onclick=function(e){var r=document.getElementsByClassName("map-item active");r&&r.length&&(r[0].className="map-item"),t._viewer&&(e.target.className="map-item active",t._viewer.changeBaseLayer(Number(e.target.getAttribute("data-index")||0)))},e.iconUrl&&(r.style.cssText="\n       background:url(".concat(e.iconUrl,");\n    ")),he.a.create("span","",r).innerHTML=e.name||"地图"}},{key:"addMap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._enable&&(this._cache.push(e),this._addItem(e),this._cache.length>1&&(this._wrapper.style.visibility="visible"))}}])&&tt(r.prototype,n),o&&tt(r,o),a}(me);me.registerType("mapswitch");var ct=at;function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lt(e,t){return(lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ft(e,t){return!t||"object"!==st(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ht=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}(a,e);var t,r,n,o,i=(t=a,function(){var e,r=yt(t);if(pt()){var n=yt(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return ft(this,e)});function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this))._wrapper=he.a.create("div","dc-popup"),e._config=void 0,e._positionChangeable=!0,e.type=me.getWidgetType("popup"),e._state=de.a.INITIALIZED,e}return r=a,(n=[{key:"_installHook",value:function(){this.enable=!0}},{key:"_updateWindowCoord",value:function(e){var t=e.x-this._wrapper.offsetWidth/2,r=e.y-this._wrapper.offsetHeight;this._config&&"left"===this._config.position?t=e.x-this._wrapper.offsetWidth:this._config&&"right"===this._config.position&&(t=e.x),this._wrapper.style.cssText="\n    visibility:visible;\n    z-index:1;\n    transform:translate3d(".concat(Math.round(t),"px,").concat(Math.round(r),"px, 0);\n    ")}},{key:"_setCustomClass",value:function(){he.a.setClass(this._wrapper,"dc-popup ".concat(this._config.customClass))}},{key:"setPosition",value:function(e){return this._position=e,this._wrapper&&(this._wrapper.style.cssText="\n    visibility:visible;\n    "),this}},{key:"config",set:function(e){this._config=e,e.customClass&&this._setCustomClass()}}])&&ut(r.prototype,n),o&&ut(r,o),a}(me);me.registerType("popup");var dt=ht;function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _t(e,t){return(_t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mt(e,t){return!t||"object"!==vt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function wt(e){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ot=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_t(e,t)}(a,e);var t,r,n,o,i=(t=a,function(){var e,r=wt(t);if(gt()){var n=wt(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return mt(this,e)});function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this))._wrapper=he.a.create("div","dc-tool-tip"),e.type=me.getWidgetType("tooltip"),e._state=de.a.INITIALIZED,e}return r=a,(n=[{key:"_updateWindowCoord",value:function(e){var t=e.x+10,r=e.y-this._wrapper.offsetHeight/2;this._wrapper.style.cssText="\n    visibility:visible;\n    z-index:1;\n    transform:translate3d(".concat(Math.round(t),"px,").concat(Math.round(r),"px, 0);\n    ")}},{key:"showAt",value:function(e,t){return e&&this._updateWindowCoord(e),this.setContent(t),this}}])&&bt(r.prototype,n),o&&bt(r,o),a}(me);me.registerType("tooltip");var kt=Ot;function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function St(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Tt(e,t){return(Tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jt(e,t){return!t||"object"!==Et(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Rt(e){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Lt=DC.Namespace.Cesium,It={animation:!1,baseLayerPicker:!1,fullscreenButton:!1,geocoder:!1,homeButton:!1,infoBox:!1,sceneModePicker:!1,selectionIndicator:!1,timeline:!1,navigationHelpButton:!1,navigationInstructionsInitiallyVisible:!1,creditContainer:void 0},Mt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tt(e,t)}(a,e);var t,r,n,o,i=(t=a,function(){var e,r=Rt(t);if(Dt()){var n=Rt(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return jt(this,e)});function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this))._wrapper=he.a.create("div","dc-hawkeye-map"),e._wrapper.setAttribute("id",he.b.uuid()),e._baseLayer=void 0,e._delegate=void 0,e.type=me.getWidgetType("hawkeye_map"),e._state=de.a.INITIALIZED,e}return r=a,(n=[{key:"_prepareDelegate",value:function(){this._delegate=new Lt.Viewer(this._wrapper,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(r),!0).forEach((function(t){St(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},It,{sceneMode:Lt.SceneMode.SCENE2D})),this._delegate.scene.screenSpaceCameraController.enableRotate=!1,this._delegate.scene.screenSpaceCameraController.enableTranslate=!1,this._delegate.scene.screenSpaceCameraController.enableZoom=!1,this._delegate.scene.screenSpaceCameraController.enableTilt=!1,this._delegate.scene.screenSpaceCameraController.enableLook=!1,this._delegate.cesiumWidget._creditContainer.style.display="none",this._delegate.cesiumWidget.screenSpaceEventHandler.removeInputAction(Lt.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),this._delegate.scene.screenSpaceCameraController.maximumZoomDistance=40489014,this._delegate.scene.backgroundColor=Lt.Color.TRANSPARENT,this._delegate.scene.postProcessStages.fxaa.enabled=!0,this._delegate.imageryLayers.removeAll()}},{key:"_installHook",value:function(){this._prepareDelegate(),this._viewer.camera.changed.addEventListener(this._sync2DView,this),this._viewer.camera.percentageChanged=.01}},{key:"_sync2DView",value:function(){var e=new Lt.Cartesian2(Math.floor(this._viewer.canvas.clientWidth/2),Math.floor(this._viewer.canvas.clientHeight/2)),t=this._viewer.scene.camera.pickEllipsoid(e);if(!t)return!1;var r=Lt.Cartesian3.distance(t,this._viewer.scene.camera.positionWC);this._delegate.scene.camera.lookAt(t,new Lt.Cartesian3(0,0,r))}},{key:"addBaseLayer",value:function(e){return this._delegate&&this._enable?(e&&(this._baseLayer&&this._delegate.imageryLayers.remove(this._baseLayer),this._baseLayer=this._delegate.imageryLayers.addImageryProvider(e)),this):this}}])&&Pt(r.prototype,n),o&&Pt(r,o),a}(me);me.registerType("hawkeye_map");var At=Mt;function xt(e){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ht(e,t){return(Ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wt(e,t){return!t||"object"!==xt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Gt(e){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ut=DC.Namespace.Cesium,zt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ht(e,t)}(a,e);var t,r,n,o,i=(t=a,function(){var e,r=Gt(t);if(Vt()){var n=Gt(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return Wt(this,e)});function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this))._wrapper=he.a.create("div","dc-compass"),e._compassRectangle=void 0,e._outRing=void 0,e._gyro=void 0,e._rotation_marker=void 0,e._orbitCursorAngle=0,e._orbitCursorOpacity=0,e._orbitLastTimestamp=0,e._orbitFrame=void 0,e._orbitIsLook=!1,e._rotateInitialCursorAngle=void 0,e._rotateFrame=void 0,e._mouseMoveHandle=void 0,e._mouseUpHandle=void 0,e.type=me.getWidgetType("compass"),e._state=de.a.INITIALIZED,e}return r=a,(n=[{key:"_installHook",value:function(){var e=this;this._createCompassDom(),this._wrapper.onmousedown=function(t){e._handleMouseDown(t)},this._wrapper.ondblclick=function(t){e._handleDoubleClick(t)},this._removeSubscription=this._viewer.scene.postRender.addEventListener((function(){var t=e._viewer.camera.heading;e._outRing.style.cssText="\n      transform : rotate(-".concat(t,"rad);\n      -webkit-transform : rotate(-").concat(t,"rad);\n      ")}),this)}},{key:"_createCompassDom",value:function(){he.a.create("div","out-ring-bg",this._wrapper),this._outRing=he.a.create("div","out-ring",this._wrapper),he.a.createSvg(145,145,"m 66.5625,0 0,15.15625 3.71875,0 0,-10.40625 5.5,10.40625 4.375,0 0,-15.15625 -3.71875,0 0,10.40625 L 70.9375,0 66.5625,0 z M 72.5,20.21875 c -28.867432,0 -52.28125,23.407738 -52.28125,52.28125 0,28.87351 23.413818,52.3125 52.28125,52.3125 28.86743,0 52.28125,-23.43899 52.28125,-52.3125 0,-28.873512 -23.41382,-52.28125 -52.28125,-52.28125 z m 0,1.75 c 13.842515,0 26.368948,5.558092 35.5,14.5625 l -11.03125,11 0.625,0.625 11.03125,-11 c 8.9199,9.108762 14.4375,21.579143 14.4375,35.34375 0,13.764606 -5.5176,26.22729 -14.4375,35.34375 l -11.03125,-11 -0.625,0.625 11.03125,11 c -9.130866,9.01087 -21.658601,14.59375 -35.5,14.59375 -13.801622,0 -26.321058,-5.53481 -35.4375,-14.5 l 11.125,-11.09375 c 6.277989,6.12179 14.857796,9.90625 24.3125,9.90625 19.241896,0 34.875,-15.629154 34.875,-34.875 0,-19.245847 -15.633104,-34.84375 -34.875,-34.84375 -9.454704,0 -18.034511,3.760884 -24.3125,9.875 L 37.0625,36.4375 C 46.179178,27.478444 58.696991,21.96875 72.5,21.96875 z m -0.875,0.84375 0,13.9375 1.75,0 0,-13.9375 -1.75,0 z M 36.46875,37.0625 47.5625,48.15625 C 41.429794,54.436565 37.65625,63.027539 37.65625,72.5 c 0,9.472461 3.773544,18.055746 9.90625,24.34375 L 36.46875,107.9375 c -8.96721,-9.1247 -14.5,-21.624886 -14.5,-35.4375 0,-13.812615 5.53279,-26.320526 14.5,-35.4375 z M 72.5,39.40625 c 18.297686,0 33.125,14.791695 33.125,33.09375 0,18.302054 -14.827314,33.125 -33.125,33.125 -18.297687,0 -33.09375,-14.822946 -33.09375,-33.125 0,-18.302056 14.796063,-33.09375 33.09375,-33.09375 z M 22.84375,71.625 l 0,1.75 13.96875,0 0,-1.75 -13.96875,0 z m 85.5625,0 0,1.75 14,0 0,-1.75 -14,0 z M 71.75,108.25 l 0,13.9375 1.71875,0 0,-13.9375 -1.71875,0 z",this._outRing),he.a.create("div","gyro-bg",this._wrapper),this._gyro=he.a.create("div","gyro",this._wrapper),he.a.createSvg(145,145,"m 72.71875,54.375 c -0.476702,0 -0.908208,0.245402 -1.21875,0.5625 -0.310542,0.317098 -0.551189,0.701933 -0.78125,1.1875 -0.172018,0.363062 -0.319101,0.791709 -0.46875,1.25 -6.91615,1.075544 -12.313231,6.656514 -13,13.625 -0.327516,0.117495 -0.661877,0.244642 -0.9375,0.375 -0.485434,0.22959 -0.901634,0.471239 -1.21875,0.78125 -0.317116,0.310011 -0.5625,0.742111 -0.5625,1.21875 l 0.03125,0 c 0,0.476639 0.245384,0.877489 0.5625,1.1875 0.317116,0.310011 0.702066,0.58291 1.1875,0.8125 0.35554,0.168155 0.771616,0.32165 1.21875,0.46875 1.370803,6.10004 6.420817,10.834127 12.71875,11.8125 0.146999,0.447079 0.30025,0.863113 0.46875,1.21875 0.230061,0.485567 0.470708,0.870402 0.78125,1.1875 0.310542,0.317098 0.742048,0.5625 1.21875,0.5625 0.476702,0 0.876958,-0.245402 1.1875,-0.5625 0.310542,-0.317098 0.582439,-0.701933 0.8125,-1.1875 0.172018,-0.363062 0.319101,-0.791709 0.46875,-1.25 6.249045,-1.017063 11.256351,-5.7184 12.625,-11.78125 0.447134,-0.1471 0.86321,-0.300595 1.21875,-0.46875 0.485434,-0.22959 0.901633,-0.502489 1.21875,-0.8125 0.317117,-0.310011 0.5625,-0.710861 0.5625,-1.1875 l -0.03125,0 c 0,-0.476639 -0.245383,-0.908739 -0.5625,-1.21875 C 89.901633,71.846239 89.516684,71.60459 89.03125,71.375 88.755626,71.244642 88.456123,71.117495 88.125,71 87.439949,64.078341 82.072807,58.503735 75.21875,57.375 c -0.15044,-0.461669 -0.326927,-0.884711 -0.5,-1.25 -0.230061,-0.485567 -0.501958,-0.870402 -0.8125,-1.1875 -0.310542,-0.317098 -0.710798,-0.5625 -1.1875,-0.5625 z m -0.0625,1.40625 c 0.03595,-0.01283 0.05968,0 0.0625,0 0.0056,0 0.04321,-0.02233 0.1875,0.125 0.144288,0.147334 0.34336,0.447188 0.53125,0.84375 0.06385,0.134761 0.123901,0.309578 0.1875,0.46875 -0.320353,-0.01957 -0.643524,-0.0625 -0.96875,-0.0625 -0.289073,0 -0.558569,0.04702 -0.84375,0.0625 C 71.8761,57.059578 71.936151,56.884761 72,56.75 c 0.18789,-0.396562 0.355712,-0.696416 0.5,-0.84375 0.07214,-0.07367 0.120304,-0.112167 0.15625,-0.125 z m 0,2.40625 c 0.448007,0 0.906196,0.05436 1.34375,0.09375 0.177011,0.592256 0.347655,1.271044 0.5,2.03125 0.475097,2.370753 0.807525,5.463852 0.9375,8.9375 -0.906869,-0.02852 -1.834463,-0.0625 -2.78125,-0.0625 -0.92298,0 -1.802327,0.03537 -2.6875,0.0625 0.138529,-3.473648 0.493653,-6.566747 0.96875,-8.9375 0.154684,-0.771878 0.320019,-1.463985 0.5,-2.0625 0.405568,-0.03377 0.804291,-0.0625 1.21875,-0.0625 z m -2.71875,0.28125 c -0.129732,0.498888 -0.259782,0.987558 -0.375,1.5625 -0.498513,2.487595 -0.838088,5.693299 -0.96875,9.25 -3.21363,0.15162 -6.119596,0.480068 -8.40625,0.9375 -0.682394,0.136509 -1.275579,0.279657 -1.84375,0.4375 0.799068,-6.135482 5.504716,-11.036454 11.59375,-12.1875 z M 75.5,58.5 c 6.043169,1.18408 10.705093,6.052712 11.5,12.15625 -0.569435,-0.155806 -1.200273,-0.302525 -1.875,-0.4375 -2.262525,-0.452605 -5.108535,-0.783809 -8.28125,-0.9375 -0.130662,-3.556701 -0.470237,-6.762405 -0.96875,-9.25 C 75.761959,59.467174 75.626981,58.990925 75.5,58.5 z m -2.84375,12.09375 c 0.959338,0 1.895843,0.03282 2.8125,0.0625 C 75.48165,71.267751 75.5,71.871028 75.5,72.5 c 0,1.228616 -0.01449,2.438313 -0.0625,3.59375 -0.897358,0.0284 -1.811972,0.0625 -2.75,0.0625 -0.927373,0 -1.831062,-0.03473 -2.71875,-0.0625 -0.05109,-1.155437 -0.0625,-2.365134 -0.0625,-3.59375 0,-0.628972 0.01741,-1.232249 0.03125,-1.84375 0.895269,-0.02827 1.783025,-0.0625 2.71875,-0.0625 z M 68.5625,70.6875 c -0.01243,0.60601 -0.03125,1.189946 -0.03125,1.8125 0,1.22431 0.01541,2.407837 0.0625,3.5625 -3.125243,-0.150329 -5.92077,-0.471558 -8.09375,-0.90625 -0.784983,-0.157031 -1.511491,-0.316471 -2.125,-0.5 -0.107878,-0.704096 -0.1875,-1.422089 -0.1875,-2.15625 0,-0.115714 0.02849,-0.228688 0.03125,-0.34375 0.643106,-0.20284 1.389577,-0.390377 2.25,-0.5625 2.166953,-0.433487 4.97905,-0.75541 8.09375,-0.90625 z m 8.3125,0.03125 c 3.075121,0.15271 5.824455,0.446046 7.96875,0.875 0.857478,0.171534 1.630962,0.360416 2.28125,0.5625 0.0027,0.114659 0,0.228443 0,0.34375 0,0.735827 -0.07914,1.450633 -0.1875,2.15625 -0.598568,0.180148 -1.29077,0.34562 -2.0625,0.5 -2.158064,0.431708 -4.932088,0.754666 -8.03125,0.90625 0.04709,-1.154663 0.0625,-2.33819 0.0625,-3.5625 0,-0.611824 -0.01924,-1.185379 -0.03125,-1.78125 z M 57.15625,72.5625 c 0.0023,0.572772 0.06082,1.131112 0.125,1.6875 -0.125327,-0.05123 -0.266577,-0.10497 -0.375,-0.15625 -0.396499,-0.187528 -0.665288,-0.387337 -0.8125,-0.53125 -0.147212,-0.143913 -0.15625,-0.182756 -0.15625,-0.1875 0,-0.0047 -0.02221,-0.07484 0.125,-0.21875 0.147212,-0.143913 0.447251,-0.312472 0.84375,-0.5 0.07123,-0.03369 0.171867,-0.06006 0.25,-0.09375 z m 31.03125,0 c 0.08201,0.03503 0.175941,0.05872 0.25,0.09375 0.396499,0.187528 0.665288,0.356087 0.8125,0.5 0.14725,0.14391 0.15625,0.21405 0.15625,0.21875 0,0.0047 -0.009,0.04359 -0.15625,0.1875 -0.147212,0.143913 -0.416001,0.343722 -0.8125,0.53125 -0.09755,0.04613 -0.233314,0.07889 -0.34375,0.125 0.06214,-0.546289 0.09144,-1.094215 0.09375,-1.65625 z m -29.5,3.625 c 0.479308,0.123125 0.983064,0.234089 1.53125,0.34375 2.301781,0.460458 5.229421,0.787224 8.46875,0.9375 0.167006,2.84339 0.46081,5.433176 0.875,7.5 0.115218,0.574942 0.245268,1.063612 0.375,1.5625 -5.463677,-1.028179 -9.833074,-5.091831 -11.25,-10.34375 z m 27.96875,0 C 85.247546,81.408945 80.919274,85.442932 75.5,86.5 c 0.126981,-0.490925 0.261959,-0.967174 0.375,-1.53125 0.41419,-2.066824 0.707994,-4.65661 0.875,-7.5 3.204493,-0.15162 6.088346,-0.480068 8.375,-0.9375 0.548186,-0.109661 1.051942,-0.220625 1.53125,-0.34375 z M 70.0625,77.53125 c 0.865391,0.02589 1.723666,0.03125 2.625,0.03125 0.912062,0 1.782843,-0.0048 2.65625,-0.03125 -0.165173,2.736408 -0.453252,5.207651 -0.84375,7.15625 -0.152345,0.760206 -0.322989,1.438994 -0.5,2.03125 -0.437447,0.03919 -0.895856,0.0625 -1.34375,0.0625 -0.414943,0 -0.812719,-0.02881 -1.21875,-0.0625 -0.177011,-0.592256 -0.347655,-1.271044 -0.5,-2.03125 -0.390498,-1.948599 -0.700644,-4.419842 -0.875,-7.15625 z m 1.75,10.28125 c 0.284911,0.01545 0.554954,0.03125 0.84375,0.03125 0.325029,0 0.648588,-0.01171 0.96875,-0.03125 -0.05999,0.148763 -0.127309,0.31046 -0.1875,0.4375 -0.18789,0.396562 -0.386962,0.696416 -0.53125,0.84375 -0.144288,0.147334 -0.181857,0.125 -0.1875,0.125 -0.0056,0 -0.07446,0.02233 -0.21875,-0.125 C 72.355712,88.946416 72.18789,88.646562 72,88.25 71.939809,88.12296 71.872486,87.961263 71.8125,87.8125 z",this._gyro),this._rotation_marker=he.a.create("div","rotation_marker",this._wrapper),he.a.createSvg(145,145,"M 72.46875,22.03125 C 59.505873,22.050338 46.521615,27.004287 36.6875,36.875 L 47.84375,47.96875 C 61.521556,34.240041 83.442603,34.227389 97.125,47.90625 l 11.125,-11.125 C 98.401629,26.935424 85.431627,22.012162 72.46875,22.03125 z",this._rotation_marker),this._rotation_marker.style.visibility="hidden"}},{key:"_handleMouseDown",value:function(e){if(this._viewer.scene.mode===Ut.SceneMode.MORPHING)return!0;this._compassRectangle=e.currentTarget.getBoundingClientRect();var t=this._compassRectangle.width/2,r=this._getVector(e),n=Ut.Cartesian2.magnitude(r)/t;if(n<50/145)this._orbit(r);else{if(!(n<1))return!0;this._rotate(r)}}},{key:"_handleDoubleClick",value:function(e){var t=this._viewer.scene,r=t.camera,n=t.screenSpaceCameraController;if(t.mode===Ut.SceneMode.MORPHING||!n.enableInputs)return!0;if(t.mode!==Ut.SceneMode.COLUMBUS_VIEW||n.enableTranslate){if(t.mode===Ut.SceneMode.SCENE3D||t.mode===Ut.SceneMode.COLUMBUS_VIEW){if(!n.enableLook)return;if(t.mode===Ut.SceneMode.SCENE3D&&!n.enableRotate)return}var o=this._getCameraFocus(!0);if(o){var i=t.globe.ellipsoid.cartographicToCartesian(r.positionCartographic),a=t.globe.ellipsoid.geodeticSurfaceNormal(o),c=new Ut.BoundingSphere(o,0);r.flyToBoundingSphere(c,{offset:new Ut.HeadingPitchRange(0,Ut.Math.PI_OVER_TWO-Ut.Cartesian3.angleBetween(a,r.directionWC),Ut.Cartesian3.distance(i,o)),duration:1.5})}}}},{key:"_getCameraFocus",value:function(e){var t=new Ut.Cartesian3,r=this._viewer.scene,n=r.camera;if(r.mode!==Ut.SceneMode.MORPHING){if(this._viewer.delegate.trackedEntity)t=this._viewer.delegate.trackedEntity.position.getValue(this._viewer.clock.currentTime);else{var o=new Ut.Ray;o.origin=n.positionWC,o.direction=n.directionWC,t=r.globe.pick(o,r)}if(t){if(r.mode===Ut.SceneMode.SCENE2D||r.mode===Ut.SceneMode.COLUMBUS_VIEW){t=n.worldToCameraCoordinatesPoint(t);var i=new Ut.Cartographic;e&&(t=r.globe.ellipsoid.cartographicToCartesian(r.mapProjection.unproject(t,i)))}else e||(t=n.worldToCameraCoordinatesPoint(t));return t}}}},{key:"_orbit",value:function(e){var t=this,r=this._viewer.scene,n=r.screenSpaceCameraController,o=r.camera;if(r.mode!==Ut.SceneMode.MORPHING&&n.enableInputs){switch(r.mode){case Ut.SceneMode.COLUMBUS_VIEW:if(n.enableLook)break;if(!n.enableTranslate||!n.enableTilt)return;break;case Ut.SceneMode.SCENE3D:if(n.enableLook)break;if(!n.enableTilt||!n.enableRotate)return;break;case Ut.SceneMode.SCENE2D:if(!n.enableTranslate)return}if(this._mouseMoveHandle=function(e){t._orbitMouseMoveFunction(e)},this._mouseUpHandle=function(){t._orbitMouseUpFunction()},document.removeEventListener("mousemove",this._mouseMoveHandle,!1),document.removeEventListener("mouseup",this._mouseUpHandle,!1),this._orbitLastTimestamp=Ut.getTimestamp(),this._viewer.delegate.trackedEntity)this._orbitFrame=void 0,this._orbitIsLook=!1;else{var i=this._getCameraFocus(!0);i?(this._orbitFrame=Ut.Transforms.eastNorthUpToFixedFrame(i,r.globe.ellipsoid),this._orbitIsLook=!1):(this._orbitFrame=Ut.Transforms.eastNorthUpToFixedFrame(o.positionWC,r.globe.ellipsoid),this._orbitIsLook=!0)}this._rotation_marker.style.visibility="visible",this._gyro.className+=" gyro-active",document.addEventListener("mousemove",this._mouseMoveHandle,!1),document.addEventListener("mouseup",this._mouseUpHandle,!1),this._viewer.clock.onTick.addEventListener(this._orbitTickFunction,this),this._updateAngleAndOpacity(e,this._compassRectangle.width)}}},{key:"_orbitTickFunction",value:function(e){var t,r=this._viewer.scene,n=this._viewer.camera,o=Ut.getTimestamp(),i=(o-this._orbitLastTimestamp)*(2.5*(this._orbitCursorOpacity-.5)/1e3),a=this._orbitCursorAngle+Ut.Math.PI_OVER_TWO,c=Math.cos(a)*i,s=Math.sin(a)*i;this._orbitFrame&&(t=Ut.Matrix4.clone(n.transform),n.lookAtTransform(this._orbitFrame)),r.mode===Ut.SceneMode.SCENE2D?n.move(new Ut.Cartesian3(c,s,0),Math.max(r.canvas.clientWidth,r.canvas.clientHeight)/100*n.positionCartographic.height*i):this._orbitIsLook?(n.look(Ut.Cartesian3.UNIT_Z,-c),n.look(n.right,-s)):(n.rotateLeft(c),n.rotateUp(s)),this._orbitFrame&&t&&n.lookAtTransform(t),this._orbitLastTimestamp=o}},{key:"_updateAngleAndOpacity",value:function(e,t){var r=Math.atan2(-e.y,e.x);this._orbitCursorAngle=Ut.Math.zeroToTwoPi(r-Ut.Math.PI_OVER_TWO);var n=Ut.Cartesian2.magnitude(e),o=t/2,i=Math.min(n/o,1);this._orbitCursorOpacity=.5*i*i+.5,this._rotation_marker.style.cssText="\n      transform: rotate(-".concat(this._orbitCursorAngle,"rad);\n      opacity: ").concat(this._orbitCursorOpacity)}},{key:"_orbitMouseMoveFunction",value:function(e){this._updateAngleAndOpacity(this._getVector(e),this._compassRectangle.width)}},{key:"_orbitMouseUpFunction",value:function(){document.removeEventListener("mousemove",this._mouseMoveHandle,!1),document.removeEventListener("mouseup",this._mouseUpHandle,!1),this._viewer.clock.onTick.removeEventListener(this._orbitTickFunction,this),this._mouseMoveHandle=void 0,this._mouseUpHandle=void 0,this._rotation_marker.style.visibility="hidden",this._gyro.className=this._gyro.className.replace(" gyro-active","")}},{key:"_rotate",value:function(e){var t=this,r=this._viewer.scene,n=r.camera,o=r.screenSpaceCameraController;if(r.mode!==Ut.SceneMode.MORPHING&&r.mode!==Ut.SceneMode.SCENE2D&&o.enableInputs&&(o.enableLook||r.mode!==Ut.SceneMode.COLUMBUS_VIEW&&(r.mode!==Ut.SceneMode.SCENE3D||o.enableRotate))){if(this._mouseMoveHandle=function(e){t._rotateMouseMoveFunction(e)},this._mouseUpHandle=function(){t._rotateMouseUpFunction()},document.removeEventListener("mousemove",this._mouseMoveHandle,!1),document.removeEventListener("mouseup",this._mouseUpHandle,!1),this._rotateInitialCursorAngle=Math.atan2(-e.y,e.x),this._viewer.delegate.trackedEntity)this._rotateFrame=void 0;else{var i=this._getCameraFocus(!0);i&&(r.mode!==Ut.SceneMode.COLUMBUS_VIEW||o.enableLook||o.enableTranslate)?this._rotateFrame=Ut.Transforms.eastNorthUpToFixedFrame(i,r.globe.ellipsoid):this._rotateFrame=Ut.Transforms.eastNorthUpToFixedFrame(n.positionWC,r.globe.ellipsoid)}var a;this._rotateFrame&&(a=Ut.Matrix4.clone(n.transform),n.lookAtTransform(this._rotateFrame)),this._rotateInitialCameraAngle=-n.heading,this._rotateFrame&&a&&n.lookAtTransform(a),document.addEventListener("mousemove",this._mouseMoveHandle,!1),document.addEventListener("mouseup",this._mouseUpHandle,!1)}}},{key:"_rotateMouseMoveFunction",value:function(e){var t,r=this._viewer.camera,n=this._getVector(e),o=Math.atan2(-n.y,n.x)-this._rotateInitialCursorAngle,i=Ut.Math.zeroToTwoPi(this._rotateInitialCameraAngle-o);this._rotateFrame&&(t=Ut.Matrix4.clone(r.transform),r.lookAtTransform(this._rotateFrame));var a=-r.heading;r.rotateRight(i-a),this._rotateFrame&&t&&r.lookAtTransform(t)}},{key:"_rotateMouseUpFunction",value:function(){document.removeEventListener("mousemove",this._mouseMoveHandle,!1),document.removeEventListener("mouseup",this._mouseUpHandle,!1),this._mouseMoveHandle=void 0,this._mouseUpHandle=void 0}},{key:"_getVector",value:function(e){var t=this._compassRectangle,r=new Ut.Cartesian2((t.right-t.left)/2,(t.bottom-t.top)/2),n=new Ut.Cartesian2(e.clientX-t.left,e.clientY-t.top),o=new Ut.Cartesian2;return Ut.Cartesian2.subtract(n,r,o),o}}])&&Nt(r.prototype,n),o&&Nt(r,o),a}(me);me.registerType("compass");var Ft=zt,Bt=r(12),Zt=r(19);function Kt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(r),!0).forEach((function(t){Yt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var $t=DC.Namespace.Cesium,Qt={animation:!1,baseLayerPicker:!1,fullscreenButton:!1,geocoder:!1,homeButton:!1,infoBox:!1,sceneModePicker:!1,selectionIndicator:!1,timeline:!1,navigationHelpButton:!1,navigationInstructionsInitiallyVisible:!1,creditContainer:void 0,shouldAnimate:!0},er=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Xt(this,e),!t||!document.getElementById(t))throw new Error("Viewer：the id is empty");this._delegate=new $t.Viewer(t,Jt({},n,{},Qt)),new ie.e(this),this._viewerEvent=new ie.k,this._sceneEvent=new ie.i(this),this._viewerOption=new le(this),this._cameraOption=new ye(this),this._dcContainer=he.a.create("div","dc-container",document.getElementById(t)),this._baseLayerPicker=new $t.BaseLayerPickerViewModel({globe:this._delegate.scene.globe}),this._layerCache={},this._effectCache={},this._comps={popup:new dt,contextMenu:new xe,tooltip:new kt,mapSwitch:new ct,mapSplit:new Qe,locationBar:new Fe,hawkeyeMap:new At,compass:new Ft,attribution:new Pe},Object.keys(this._comps).forEach((function(e){r.use(r._comps[e])}))}var t,r,n;return t=e,(r=[{key:"_addLayer",value:function(e){e&&e.layerEvent&&(!this._layerCache[e.type]&&(this._layerCache[e.type]={}),Object(this._layerCache[e.type]).hasOwnProperty(e.id)||(e.layerEvent.fire(ie.d.ADD,this),this._layerCache[e.type][e.id]=e))}},{key:"_removeLayer",value:function(e){e&&e.layerEvent&&Object(this._layerCache[e.type]).hasOwnProperty(e.id)&&(e.layerEvent.fire(ie.d.REMOVE,this),delete this._layerCache[e.type][e.id])}},{key:"_addEffect",value:function(e){e&&e.effectEvent&&(!this._effectCache[e.type]&&(this._effectCache[e.type]={}),Object(this._effectCache[e.type]).hasOwnProperty(e.id)||(e.effectEvent.fire(ie.a.ADD,this),this._effectCache[e.type][e.id]=e))}},{key:"_removeEffect",value:function(e){e&&e.effectEvent&&Object(this._effectCache[e.type]).hasOwnProperty(e.id)&&(e.effectEvent.fire(ie.a.REMOVE,this),delete this._effectCache[e.type][e.id])}},{key:"setOptions",value:function(e){return this._viewerOption.setOptions(e),this}},{key:"setPitchRange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-90,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-20;return this._cameraOption.setPichRange(e,t),this}},{key:"limitCameraToGround",value:function(){return this._cameraOption.limitCameraToGround(),this}},{key:"setBounds",value:function(e,t,r,n){return this._cameraOption.setBounds(e,t,r,n),this}},{key:"changeSceneMode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 2===e?this._delegate.scene.morphTo2D(t):3===e?this._delegate.scene.morphTo3D(t):2.5===e&&this._delegate.scene.morphToColumbusView(t),this}},{key:"addBaseLayer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?(this._baseLayerPicker.imageryProviderViewModels.push(new $t.ProviderViewModel({name:t.name||"地图",creationFunction:function(){return e}})),this._baseLayerPicker.selectedImagery||(this._baseLayerPicker.selectedImagery=this._baseLayerPicker.imageryProviderViewModels[0]),this._comps.mapSwitch.addMap(t),this):this}},{key:"changeBaseLayer",value:function(e){return this._baseLayerPicker&&e>=0&&(this._baseLayerPicker.selectedImagery=this._baseLayerPicker.imageryProviderViewModels[e]),this}},{key:"addTerrain",value:function(e){return e?(this._baseLayerPicker.terrainProviderViewModels.push(new $t.ProviderViewModel({name:"地形",creationFunction:function(){return e}})),this._baseLayerPicker.selectedTerrain||(this._baseLayerPicker.selectedTerrain=this._baseLayerPicker.terrainProviderViewModels[0]),this):this}},{key:"changeTerrain",value:function(e){return this._baseLayerPicker&&e>=0&&(this._baseLayerPicker.selectedTerrain=this._baseLayerPicker.terrainProviderViewModels[e]),this}},{key:"addLayer",value:function(e){return this._addLayer(e),this}},{key:"removeLayer",value:function(e){return this._removeLayer(e),this}},{key:"getLayer",value:function(e){var t=this.getLayers().filter(item.id===e);return t&&t.length?t[0]:void 0}},{key:"getLayers",value:function(){var e=this,t=[];return Object.keys(this._layerCache).forEach((function(r){var n=e._layerCache[r];Object.keys(n).forEach((function(e){t.push(n[e])}))})),t}},{key:"eachLayer",value:function(e,t){var r=this;return Object.keys(this._layerCache).forEach((function(n){var o=r._layerCache[n];Object.keys(o).forEach((function(r){e.call(t,o[r])}))})),this}},{key:"addEffect",value:function(e){return this._addEffect(e),this}},{key:"removeEffect",value:function(e){return this._removeEffect(e),this}},{key:"flyTo",value:function(e){return this._delegate.flyTo(e.delegate||e),this}},{key:"zoomTo",value:function(e){return this._delegate.zoomTo(e.delegate||e),this}},{key:"flyToPosition",value:function(e,t,r){return e instanceof Zt.a&&this._delegate.camera.flyTo({destination:Bt.a.transformWGS84ToCartesian(e),orientation:{heading:$t.Math.toRadians(e.heading),pitch:$t.Math.toRadians(e.pitch),roll:$t.Math.toRadians(e.roll)},complete:t,duration:r}),this}},{key:"zoomToPosition",value:function(e,t){return e instanceof Zt.a&&this._delegate.camera.flyTo({destination:Bt.a.transformWGS84ToCartesian(e),orientation:{heading:$t.Math.toRadians(e.heading),pitch:$t.Math.toRadians(e.pitch),roll:$t.Math.toRadians(e.roll)},complete:t,duration:0}),this}},{key:"on",value:function(e,t,r){return this._viewerEvent.on(e,t,r||this),this._sceneEvent.on(e,t,r||this),this}},{key:"once",value:function(e,t,r){return this._viewerEvent.once(e,t,r||this),this}},{key:"off",value:function(e,t,r){return this._viewerEvent.off(e,t,r||this),this._sceneEvent.off(e,t,r||this),this}},{key:"use",value:function(e){return e&&e.install&&e.install(this),this}},{key:"delegate",get:function(){return this._delegate}},{key:"dcContainer",get:function(){return this._dcContainer}},{key:"scene",get:function(){return this._delegate.scene}},{key:"camera",get:function(){return this._delegate.camera}},{key:"canvas",get:function(){return this._delegate.scene.canvas}},{key:"dataSources",get:function(){return this._delegate.dataSources}},{key:"clock",get:function(){return this._delegate.clock}},{key:"viewerEvent",get:function(){return this._viewerEvent}},{key:"popup",get:function(){return this._comps.popup}},{key:"contextMenu",get:function(){return this._comps.contextMenu}},{key:"tooltip",get:function(){return this._comps.tooltip}},{key:"mapSplit",get:function(){return this._comps.mapSplit}},{key:"mapSwitch",get:function(){return this._comps.mapSwitch}},{key:"locationBar",get:function(){return this._comps.locationBar}},{key:"hawkeyeMap",get:function(){return this._comps.hawkeyeMap}},{key:"compass",get:function(){return this._comps.compass}},{key:"cameraPosition",get:function(){var e=Bt.a.transformCartesianToWGS84(this.camera.positionWC);return e&&(e.heading=$t.Math.toDegrees(this.camera.heading),e.pitch=$t.Math.toDegrees(this.camera.pitch),e.roll=$t.Math.toDegrees(this.camera.roll)),e}}])&&qt(t.prototype,r),n&&qt(t,n),e}(),tr=r(27),rr=r(20),nr=r(21),or=DC.Namespace.Cesium;or.Math.area=nr.a,or.Math.bounds=nr.b,or.Math.center=nr.c,or.Math.distance=nr.d,or.Math.heading=nr.e,or.Math.isBetween=nr.f;var ir={ImageryLayerFactory:te,TerrainFactory:oe,Viewer:er,World:er,GeoJsonLayer:tr.a,HtmlLayer:tr.b,LabelLayer:tr.c,TilesetLayer:tr.f,TopoJsonLayer:tr.g,VectorLayer:tr.h,Billboard:rr.a,Cricle:rr.b,DivIcon:rr.c,Label:rr.d,Point:rr.h,Polyline:rr.j,Polygon:rr.i,Model:rr.e,Tileset:rr.k,Math:or.Math};DC.mixin(ir)},15:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"f",(function(){return s})),r.d(t,"j",(function(){return l})),r.d(t,"d",(function(){return f})),r.d(t,"a",(function(){return p})),r.d(t,"h",(function(){return y})),r.d(t,"b",(function(){return d})),r.d(t,"e",(function(){return P})),r.d(t,"k",(function(){return A})),r.d(t,"i",(function(){return U})),r.d(t,"c",(function(){return X})),r.d(t,"g",(function(){return oe}));var a=DC.Namespace.Cesium,c={ADD:"add",REMOVE:"remove"},s={CLICK:a.ScreenSpaceEventType.LEFT_CLICK,RIGHT_CLICK:a.ScreenSpaceEventType.RIGHT_CLICK,DB_CLICK:a.ScreenSpaceEventType.LEFT_DOUBLE_CLICK,MOUSE_MOVE:a.ScreenSpaceEventType.MOUSE_MOVE,WHEEL:a.ScreenSpaceEventType.WHEEL,MOUSE_OVER:"mouseover",MOUSE_OUT:"mouseout",DRAG_START:"dragStart",DRAG_END:"dragEnd",EDIT_START:"editStart",EDIT_END:"editEnd"},u={ADD_LAYER:"addLayer",REMOVE_LAYER:"removeLayer",ADD_EFFECT:"addEffect",REMOVE_EFFECT:"removeEffect",CLICK:a.ScreenSpaceEventType.LEFT_CLICK,RIGHT_CLICK:a.ScreenSpaceEventType.RIGHT_CLICK,DB_CLICK:a.ScreenSpaceEventType.LEFT_DOUBLE_CLICK,MOUSE_MOVE:a.ScreenSpaceEventType.MOUSE_MOVE,WHEEL:a.ScreenSpaceEventType.WHEEL},l={CAMERA_MOVE_END:"cameraMoveEnd",CAMERA_CHANGED:"cameraChanged",PRE_RENDER:"preRender",POST_RENDER:"postRender",MORPH_COMPLETE:"morphComplete",CLOCK_TICK:"clockTick"},f=o({},c,{CLEAR:"clear"}),p=o({},c),y=o({},c,{CLICK:a.ScreenSpaceEventType.LEFT_CLICK,RIGHT_CLICK:a.ScreenSpaceEventType.RIGHT_CLICK,DB_CLICK:a.ScreenSpaceEventType.LEFT_DOUBLE_CLICK,MOUSE_OVER:"mouseover",MOUSE_OUT:"mouseout",DRAG_START:"dragStart",DRAG_END:"dragEnd",EDIT_START:"editStart",EDIT_END:"editEnd"});function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._cache={},this._registerEvent()}var t,r,n;return t=e,(r=[{key:"_registerEvent",value:function(){}},{key:"_on",value:function(e,t,r){var n=this.getEvent(e),o=void 0;return t&&n&&(o=n.addEventListener(t,r||this)),o}},{key:"_off",value:function(e,t,r){var n=this.getEvent(e),o=!1;return n&&t&&(o=n.removeEventListener(t,r||this)),o}},{key:"_fire",value:function(e,t){var r=this.getEvent(e);r&&r.raiseEvent(t)}},{key:"on",value:function(e,t,r){return this._on(e,t,r)}},{key:"once",value:function(e,t,r){var n=this._on(e,t,r);n&&n()}},{key:"off",value:function(e,t,r){return this._off(e,t,r)}},{key:"fire",value:function(e,t){this._fire(e,t)}},{key:"getEvent",value:function(e){return this._cache[e]||void 0}}])&&h(t.prototype,r),n&&h(t,n),e}();function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=DC.Namespace.Cesium,P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(a,e);var t,r,n,o,i=(t=a,function(){var e,r=C(t);if(E()){var n=C(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return O(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._viewer=e,t._selected=void 0,t._setInputAction(),t.on(s.CLICK,t._clickHandler,k(t)),t.on(s.DB_CLICK,t._dbClickHandler,k(t)),t.on(s.RIGHT_CLICK,t._rightClickHandler,k(t)),t.on(s.MOUSE_MOVE,t._mouseMoveHandler,k(t)),t}return r=a,(n=[{key:"_setInputAction",value:function(){var e=this,t=new S.ScreenSpaceEventHandler(this._viewer.canvas);Object.keys(S.ScreenSpaceEventType).forEach((function(r){var n=S.ScreenSpaceEventType[r];e._cache[n]=new S.Event,t.setInputAction((function(t){e._cache[n].raiseEvent(t)}),n)}))}},{key:"_getMouseInfo",value:function(e){var t=this._viewer.scene,r=t.pick(e),n=void 0;t.pickPositionSupported&&(n=t.pickPosition(e));var o=void 0;if(t.mode===S.SceneMode.SCENE3D){var i=t.camera.getPickRay(e);o=t.globe.pick(i,t)}else o=t.camera.pickEllipsoid(e,S.Ellipsoid.WGS84);return{target:r,windowPosition:e,position:n,surfacePosition:o}}},{key:"_getOverlayId",value:function(e){var t=void 0;return e&&e.id&&e.id instanceof S.Entity&&(t=e.id.overlayId),e&&e instanceof S.Cesium3DTileFeature&&(t=e.tileset.overlayId),t}},{key:"_getTargetInfo",value:function(e){var t=void 0,r=void 0,n=void 0;return e&&e.id&&e.id instanceof S.Entity&&(r=e.id.layer)&&r.getOverlay&&(t=r.getOverlay(e.id.overlayId)),e&&e instanceof S.Cesium3DTileFeature&&(r=e.tileset.layer,n=e,r&&r.getOverlay&&(t=r.getOverlay(e.tileset.overlayId),n.getPropertyNames().forEach((function(e){t.attr[e]=n.getProperty(e)})))),{layer:r,overlay:t,feature:n}}},{key:"_raiseEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=void 0,n=this._getTargetInfo(t.target),o=n.overlay;o&&o.overlayEvent&&(r=o.overlayEvent.getEvent(e)),!r&&(r=this._viewer.viewerEvent.getEvent(e)),r&&r.numberOfListeners>0&&r.raiseEvent(_({},n,{},t))}},{key:"_clickHandler",value:function(e){if(!e||!e.position)return!1;var t=this._getMouseInfo(e.position);this._raiseEvent(s.CLICK,t)}},{key:"_dbClickHandler",value:function(e){if(!e||!e.position)return!1;var t=this._getMouseInfo(e.position);this._raiseEvent(s.DB_CLICK,t)}},{key:"_rightClickHandler",value:function(e){if(!e||!e.position)return!1;var t=this._getMouseInfo(e.position);this._raiseEvent(s.RIGHT_CLICK,t)}},{key:"_mouseMoveHandler",value:function(e){if(!e||!e.endPosition)return!1;var t=this._getMouseInfo(e.endPosition);this._viewer.canvas.style.cursor=t.target?"pointer":"default",this._raiseEvent(s.MOUSE_MOVE,t),this._selected&&this._getOverlayId(this._selected.target)===this._getOverlayId(t.target)||(this._raiseEvent(s.MOUSE_OUT,this._selected),this._raiseEvent(s.MOUSE_OVER,t),this._selected=t)}}])&&g(r.prototype,n),o&&g(r,o),a}(d);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var M=DC.Namespace.Cesium,A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(a,e);var t,r,n,o,i=(t=a,function(){var e,r=I(t);if(L()){var n=I(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return R(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this)}return r=a,(n=[{key:"_registerEvent",value:function(){var e=this;Object.keys(u).forEach((function(t){var r=u[t];e._cache[r]=new M.Event}))}}])&&j(r.prototype,n),o&&j(r,o),a}(d);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(a,e);var t,r,n,o,i=(t=a,function(){var e,r=G(t);if(V()){var n=G(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return W(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this))._camera=e.delegate.camera,t._scene=e.delegate.scene,t._clock=e.delegate.clock,t}return r=a,(n=[{key:"on",value:function(e,t,r){var n=void 0;switch(e){case l.CAMERA_MOVE_END:n=this._camera.moveEnd.addEventListener(t,r||this);break;case l.CAMERA_CHANGED:n=this._camera.changed.addEventListener(t,r||this);break;case l.PRE_RENDER:n=this._scene.preRender.addEventListener(t,r||this);break;case l.POST_RENDER:n=this._scene.postRender.addEventListener(t,r||this);break;case l.MORPH_COMPLETE:n=this._scene.morphComplete.addEventListener(t,r||this);break;case l.CLOCK_TICK:n=this._clock.onTick.addEventListener(t,r||this)}return n}},{key:"off",value:function(e,t,r){var n=!1;switch(e){case l.CAMERA_MOVE_END:n=this._camera.moveEnd.removeEventListener(t,r||this);break;case l.CAMERA_CHANGED:n=this._camera.changed.removeEventListener(t,r||this);break;case l.PRE_RENDER:n=this._scene.preRender.removeEventListener(t,r||this);break;case l.POST_RENDER:n=this._scene.postRender.removeEventListener(t,r||this);break;case l.MORPH_COMPLETE:n=this._scene.morphComplete.removeEventListener(t,r||this);break;case l.CLOCK_TICK:n=this._clock.onTick.removeEventListener(t,r||this)}return n}}])&&N(r.prototype,n),o&&N(r,o),a}(d);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function K(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Y=DC.Namespace.Cesium,X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(a,e);var t,r,n,o,i=(t=a,function(){var e,r=J(t);if(K()){var n=J(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return Z(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this)}return r=a,(n=[{key:"_registerEvent",value:function(){var e=this;Object.keys(f).forEach((function(t){var r=f[t];e._cache[r]=new Y.Event}))}}])&&F(r.prototype,n),o&&F(r,o),a}(d);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ne=DC.Namespace.Cesium,oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(a,e);var t,r,n,o,i=(t=a,function(){var e,r=re(t);if(te()){var n=re(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return ee(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this)}return r=a,(n=[{key:"_registerEvent",value:function(){var e=this;Object.keys(y).forEach((function(t){var r=y[t];e._cache[r]=new ne.Event}))}}])&&$(r.prototype,n),o&&$(r,o),a}(d)},18:function(e,t,r){"use strict";t.a={ARCGIS:"arcgis",SINGLE_TILE:"single_tile",WMTS:"wmts",XYZ:"xyz",COORD:"Coord"}},19:function(e,t,r){"use strict";var n=r(12);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=DC.Namespace.Cesium,a=function(){function e(t,r,n,o,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._lng=t||0,this._lat=r||0,this._alt=n||0,this._heading=o||0,this._pitch=i||0,this._roll=a||0}var t,r,a;return t=e,a=[{key:"copy",value:function(t){var r=new e;return t&&(r.lng=t.lng||0,r.lat=t.lat||0,r.alt=t.alt||0,r.heading=t.heading||0,r.pitch=t.pitch||0,r.roll=t.roll||0),r}},{key:"deserialize",value:function(t){var r=new e,n=JSON.parse(t);return n&&(r.lng=n.lng||0,r.lat=n.lat||0,r.alt=n.alt||0,r.heading=n.heading||0,r.pitch=n.pitch||0,r.roll=n.roll||0),r}},{key:"fromCoordString",value:function(t){var r=new e;return t&&"string"==typeof t&&(r=this.fromCoordArray(t.split(","))),r}},{key:"fromCoordArray",value:function(t){var r=new e;return Array.isArray(t)&&(r.lng=t[0]||0,r.lat=t[1]||0,r.alt=t[2]||0),r}}],(r=[{key:"serialize",value:function(){var t=new e(this._lng,this._lat,this._alt,this._heading,this._pitch,this._roll);return JSON.stringify(t)}},{key:"distance",value:function(t){return t&&t instanceof e?i.Cartesian3.distance(n.a.transformWGS84ToCartesian(this),n.a.transformWGS84ToCartesian(t)):0}},{key:"lng",set:function(e){this._lng=e},get:function(){return this._lng}},{key:"lat",set:function(e){this._lat=e},get:function(){return this._lat}},{key:"alt",set:function(e){this._alt=e},get:function(){return this._alt}},{key:"heading",set:function(e){this._heading=e},get:function(){return this._heading}},{key:"pitch",set:function(e){this._pitch=e},get:function(){return this._pitch}},{key:"roll",set:function(e){this._roll=e},get:function(){return this._roll}}])&&o(t.prototype,r),a&&o(t,a),e}();t.a=a},20:function(e,t,r){"use strict";r.d(t,"g",(function(){return n})),r.d(t,"f",(function(){return s})),r.d(t,"a",(function(){return w})),r.d(t,"b",(function(){return M})),r.d(t,"c",(function(){return z})),r.d(t,"d",(function(){return te})),r.d(t,"h",(function(){return ye})),r.d(t,"i",(function(){return Se})),r.d(t,"j",(function(){return He})),r.d(t,"e",(function(){return Xe})),r.d(t,"k",(function(){return lt}));var n={},o=r(8),i=r(15),a=r(9);function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=o.b.uuid(),this._layer=void 0,this._state=void 0,this._delegate=void 0,this._bid=o.b.uuid(),this._show=!0,this._style={},this._attr={},this._overlayEvent=new i.g,this.type=void 0,this.on(i.h.ADD,this._addHandler,this),this.on(i.h.REMOVE,this._removeHandler,this)}var t,r,s;return t=e,s=[{key:"registerType",value:function(e){e&&(n[e.toLocaleUpperCase()]=e.toLocaleLowerCase())}},{key:"getOverlayType",value:function(e){return n[e.toLocaleUpperCase()]||void 0}}],(r=[{key:"_addedHook",value:function(){if(!this._delegate)return!1;this._delegate.layer=this._layer,this._delegate.overlayId=this._id}},{key:"_mountedHook",value:function(){}},{key:"_removedHook",value:function(){}},{key:"_addHandler",value:function(e){if(!e)return!1;this._layer=e,this._mountedHook&&this._mountedHook(),this._layer&&this._layer.delegate&&this._layer.delegate.entities&&(this._layer.delegate.entities.add(this._delegate),this._addedHook&&this._addedHook(),this._state=a.a.ADDED)}},{key:"_removeHandler",value:function(){this._layer&&this._layer.delegate&&this._layer.delegate.entities&&(this._layer.delegate.entities.remove(this._delegate),this._removedHook&&this._removedHook(),this._state=a.a.REMOVED)}},{key:"setStyle",value:function(e){return this}},{key:"remove",value:function(){return this._layer&&this._layer.removeOverlay(this),this}},{key:"addTo",value:function(e){return e&&e.addOverlay&&e.addOverlay(this),this}},{key:"on",value:function(e,t,r){return this._overlayEvent.on(e,t,r||this),this}},{key:"off",value:function(e,t,r){return this._overlayEvent.off(e,t,r||this),this}},{key:"fire",value:function(e,t){return this._overlayEvent.fire(e,t),this}},{key:"overlayId",get:function(){return this._id}},{key:"id",set:function(e){this._bid=e},get:function(){return this._bid}},{key:"show",set:function(e){this._show=e,this._delegate&&(this._delegate.show=this._show)},get:function(){return this._show}},{key:"attr",set:function(e){this._attr=e},get:function(){return this._attr}},{key:"overlayEvent",get:function(){return this._overlayEvent}},{key:"delegate",get:function(){return this._delegate}},{key:"state",get:function(){return this._state}}])&&c(t.prototype,r),s&&c(t,s),e}(),u=r(12);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=DC.Namespace.Cesium,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(l,e);var t,r,n,i,c=(t=l,function(){var e,r=_(t);if(b()){var n=_(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return v(this,e)});function l(e,t){var r;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),!o.b.checkPosition(e))throw new Error("Billboard: the position invalid");return(r=c.call(this))._position=e,r._icon=t,r._size=[32,32],r._delegate=new m.Entity,r.type=s.getOverlayType("billboard"),r._state=a.a.INITIALIZED,r}return r=l,i=[{key:"fromEntity",value:function(e){var t=u.a.transformCartesianToWGS84(e.position.getValue(m.JulianDate.now())),r=void 0;return e.billboard&&((r=new l(t,e.billboard.image)).attr=p({},e.properties.getValue(m.JulianDate.now()))),r}}],(n=[{key:"_mountedHook",value:function(){var e=this;this._delegate.position=new m.CallbackProperty((function(t){return u.a.transformWGS84ToCartesian(e._position)})),this._delegate.billboard=p({},this._style,{image:new m.CallbackProperty((function(t){return e._icon})),width:new m.CallbackProperty((function(t){return e._size[0]||32})),height:new m.CallbackProperty((function(t){return e._size[1]||32}))})}},{key:"setLabel",value:function(e,t){return this._delegate.label=p({},t,{text:e}),this}},{key:"setStyle",value:function(e){return 0===Object.keys(e).length||(this._style=e,this._delegate.billboard&&o.b.merge(this._delegate.billboard,this._style)),this}},{key:"position",set:function(e){if(!o.b.checkPosition(e))throw new Error("Billboard: the position invalid");this._position=e},get:function(){return this._position}},{key:"icon",set:function(e){this._icon=e},get:function(){return this._icon}},{key:"size",set:function(e){if(!Array.isArray(e))throw new Error("Billboard: the size invalid");this._size=e},get:function(){return this._size}}])&&h(r.prototype,n),i&&h(r,i),l}(s);s.registerType("billboard");var w=g;function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var L=DC.Namespace.Cesium,I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(l,e);var t,r,n,i,c=(t=l,function(){var e,r=R(t);if(D()){var n=R(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return j(this,e)});function l(e,t){var r;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),!o.b.checkPosition(e))throw new Error("Circle: the center invalid");return(r=c.call(this))._center=e,r._radius=t||0,r._delegate=new L.Entity,r._rotateAmount=0,r._stRotation=0,r.type=s.getOverlayType("circle"),r._state=a.a.INITIALIZED,r}return r=l,(n=[{key:"_mountedHook",value:function(){var e=this;this._delegate.position=new L.CallbackProperty((function(t){return u.a.transformWGS84ToCartesian(e._center)})),this._delegate.orientation=new L.CallbackProperty((function(t){return L.Transforms.headingPitchRollQuaternion(u.a.transformWGS84ToCartesian(e._center),new L.HeadingPitchRoll(L.Math.toRadians(e._center.heading),L.Math.toRadians(e._center.pitch),L.Math.toRadians(e._center.roll)))})),this._delegate.ellipse=E({},this._style,{semiMajorAxis:new L.CallbackProperty((function(t){return e._radius})),semiMinorAxis:new L.CallbackProperty((function(t){return e._radius})),stRotation:new L.CallbackProperty((function(t){return e._rotateAmount>0&&(e._stRotation+=e._rotateAmount,e._stRotation>=360&&(e._stRotation=0)),e._stRotation}))})}},{key:"setLabel",value:function(e,t){return this._delegate.label=E({text:e},t),this}},{key:"setStyle",value:function(e){return 0===Object.keys(e).length||(this._style=e,this._delegate.ellipse&&o.b.merge(this._delegate.ellipse,this._style)),this}},{key:"center",set:function(e){if(!o.b.checkPosition(e))throw new Error("Circle: the center invalid");this._center=e},get:function(){return this._center}},{key:"radius",set:function(e){this._radius=e},get:function(){return this._redius}},{key:"rotateAmount",set:function(e){this._rotateAmount=e},get:function(){return this._rotateAmount}}])&&S(r.prototype,n),i&&S(r,i),l}(s);s.registerType("circle");var M=I,A=r(21);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(l,e);var t,r,n,i,c=(t=l,function(){var e,r=G(t);if(V()){var n=G(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return W(this,e)});function l(e,t){var r;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),!o.b.checkPosition(e))throw new Error("DivIcon: the position invalid");return(r=c.call(this))._position=e,r._delegate=o.a.create("div","div-icon"),r._delegate.setAttribute("id",r._id),o.b.merge(r._delegate.style,{position:"absolute",top:"0",left:"0"}),r.content=t,r.type=s.getOverlayType("div_icon"),r._state=a.a.INITIALIZED,r}return r=l,(n=[{key:"_updateStyle",value:function(e,t){var r="translate3d(0,0,0)";if(e.transform){var n=e.transform.x-this._delegate.offsetWidth/2,o=e.transform.y-this._delegate.offsetHeight/2;r="translate3d(".concat(Math.round(n),"px,").concat(Math.round(o),"px, 0)")}var i="scale3d(1,1,1)",a=this._style.scaleByDistance;if(t&&a){var c=a.nearValue,s=a.farValue,u=t/a.far;if(t<a.near)i="scale3d(".concat(c,",").concat(c,",1)");else if(t>a.far)i="scale3d(".concat(s,",").concat(s,",1)");else{var l=s+u*(c-s);i="scale3d(".concat(l,",").concat(l,",1)")}}var f=this._style.distanceDisplayCondition;t&&f&&(this.show=Object(A.f)(t,f.near,f.far)),this._delegate.style.transform="".concat(r," ").concat(i)}},{key:"_addHandler",value:function(e){var t=this;this._layer=e,this._layer.delegate.appendChild(this._delegate),this._delegate.addEventListener("click",(function(r){t._overlayEvent.fire(MouseEventType.CLICK,{layer:e,overlay:t,position:u.a.transformWGS84ToCartesian(t._position)})})),this._state=a.a.ADDED}},{key:"_removeHandler",value:function(){this._layer&&(this._layer.delegate.removeChild(this._delegate),this._state=a.a.REMOVED)}},{key:"setStyle",value:function(e){return 0===Object.keys(e).length||(this._style=e,e.className&&o.a.addClass(this._delegate,e.className)),this}},{key:"show",set:function(e){this._show=e,this._delegate.style.visibility=this._show?"visible":"hidden"},get:function(){return this._show}},{key:"position",set:function(e){if(!o.b.checkPosition(e))throw new Error("DivIcon: the position invalid");this._position=e},get:function(){return this._position}},{key:"content",set:function(e){e&&"string"==typeof e?this._delegate.innerHTML=e:e&&e instanceof Element&&this._delegate.appendChild(e)}}])&&N(r.prototype,n),i&&N(r,i),l}(s);s.registerType("div_icon");var z=U;function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){K(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function K(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Q=DC.Namespace.Cesium,ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(l,e);var t,r,n,i,c=(t=l,function(){var e,r=$(t);if(q()){var n=$(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return X(this,e)});function l(e,t){var r;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),!o.b.checkPosition(e))throw new Error("Label: the position invalid");return(r=c.call(this))._position=e,r._text=t,r._delegate=new Q.Entity,r.type=s.getOverlayType("label"),r._state=a.a.INITIALIZED,r}return r=l,i=[{key:"fromEntity",value:function(e){var t=u.a.transformCartesianToWGS84(e.position.getValue(Q.JulianDate.now())),r=void 0;return e.billboard&&((r=new l(t,item.name)).attr=Z({},e.properties.getValue(Q.JulianDate.now()))),r}}],(n=[{key:"_mountedHook",value:function(){var e=this;this._delegate.position=new Q.CallbackProperty((function(t){return u.a.transformWGS84ToCartesian(e._position)})),this._delegate.label=Z({},this._style,{text:new Q.CallbackProperty((function(t){return e._text}))})}},{key:"setStyle",value:function(e){return 0===Object.keys(e).length||(this._style=e,this._delegate.label&&o.b.merge(this._delegate.label,this._style)),this}},{key:"position",set:function(e){if(!o.b.checkPosition(e))throw new Error("Label: the position invalid");this._position=e},get:function(){return this._position}},{key:"text",set:function(e){this._text=e},get:function(){return this._text}}])&&J(r.prototype,n),i&&J(r,i),l}(s);s.registerType("label");var te=ee;function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var le=DC.Namespace.Cesium,fe={pixelSize:8,outlineColor:le.Color.BLUE,outlineWidth:2},pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(l,e);var t,r,n,i,c=(t=l,function(){var e,r=ue(t);if(se()){var n=ue(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return ce(this,e)});function l(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),!o.b.checkPosition(e))throw new Error("Point: the position invalid");return(t=c.call(this))._position=e,t._delegate=new le.Entity,t.type=s.getOverlayType("point"),t._state=a.a.INITIALIZED,t}return r=l,(n=[{key:"_mountedHook",value:function(){var e=this;this._delegate.position=new le.CallbackProperty((function(t){return u.a.transformWGS84ToCartesian(e._position)})),this._delegate.point=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},fe,{},this._style)}},{key:"setStyle",value:function(e){return 0===Object.keys(e).length||(this._style=e,this._delegate.point&&o.b.merge(this._delegate.point,fe,this._style)),this}},{key:"position",set:function(e){if(!o.b.checkPosition(e))throw new Error("Point: the position invalid");this._position=e},get:function(){return this._position}}])&&ie(r.prototype,n),i&&ie(r,i),l}(s);s.registerType("point");var ye=pe,he=r(26);function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(r),!0).forEach((function(t){_e(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function me(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function we(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ee=DC.Namespace.Cesium,Ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(l,e);var t,r,n,i,c=(t=l,function(){var e,r=ke(t);if(Oe()){var n=ke(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return we(this,e)});function l(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),!o.b.checkPositions(e))throw new Error("Polygon: the positions invalid");return(t=c.call(this))._positions=he.a.parsePositions(e),t._holes=[],t._delegate=new Ee.Entity,t.type=s.getOverlayType("polygon"),t._state=a.a.INITIALIZED,t}return r=l,i=[{key:"fromEntity",value:function(e){var t=void 0;return e.polygon&&((t=new l(T.transformCartesianArrayToWGS84Array(item.polygon.hierarchy.getValue(Ee.JulianDate.now()).positions))).attr=be({},e.properties.getValue(Ee.JulianDate.now()))),t}}],(n=[{key:"_prepareHierarchy",value:function(){var e=new Ee.PolygonHierarchy;return e.positions=u.a.transformWGS84ArrayToCartesianArray(this._positions),e.holes=this._holes.map((function(e){return new Ee.PolygonHierarchy(u.a.transformWGS84ArrayToCartesianArray(e))})),e}},{key:"_mountedHook",value:function(){var e=this;this._delegate.polygon=be({},this._style,{hierarchy:new Ee.CallbackProperty((function(t){return e._prepareHierarchy()}))})}},{key:"setStyle",value:function(e){return e&&0!==Object.keys(e).length?(this._style=e,this._delegate.polygon&&o.b.merge(this._delegate.polygon,this._style),this):this}},{key:"positions",set:function(e){if(!o.b.checkPositions(e))throw new Error("Polygon: the positions invalid");this._positions=he.a.parsePositions(e)},get:function(){return this._positions}},{key:"holes",set:function(e){e&&e.length&&(this._holes=e.map((function(e){return he.a.parsePositions(e)})))},get:function(){return this._holes}},{key:"center",get:function(){return Object(A.c)(this._positions)}},{key:"area",get:function(){return Object(A.a)(this._positions)}}])&&me(r.prototype,n),i&&me(r,i),l}(s);s.registerType("polygon");var Se=Ce;function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(r),!0).forEach((function(t){De(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function De(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Re(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ie(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Me(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xe=DC.Namespace.Cesium,Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(l,e);var t,r,n,i,c=(t=l,function(){var e,r=Ae(t);if(Me()){var n=Ae(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return Ie(this,e)});function l(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),!o.b.checkPositions(e))throw new Error("Polyline: the positions invalid");return(t=c.call(this))._positions=he.a.parsePositions(e),t._delegate=new xe.Entity,t.type=s.getOverlayType("polyline"),t._state=a.a.INITIALIZED,t}return r=l,i=[{key:"fromEntity",value:function(e){var t=void 0;return e.polyline&&((t=new l(u.a.transformCartesianArrayToWGS84Array(e.polyline.positions.getValue(xe.JulianDate.now())))).attr=je({},e.properties.getValue(xe.JulianDate.now()))),t}}],(n=[{key:"_mountedHook",value:function(){var e=this;this._delegate.polyline=je({},this._style,{positions:new xe.CallbackProperty((function(t){return u.a.transformWGS84ArrayToCartesianArray(e._positions)}))})}},{key:"setStyle",value:function(e){return 0==Object.keys(e).length||(this._style=e,this._delegate.polyline&&o.b.merge(this._delegate.polyline,this._style)),this}},{key:"positions",set:function(e){if(!o.b.checkPositions(e))throw new Error("Polyline: the positions invalid");this._positions=he.a.parsePositions(e)},get:function(){return this._positions}},{key:"center",get:function(){return Object(A.c)(this._positions)}},{key:"distance",get:function(){return Object(A.d)(this._positions)}}])&&Re(r.prototype,n),i&&Re(r,i),l}(s);s.registerType("polyline");var He=Ne;function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(r),!0).forEach((function(t){Ue(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ue(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ze(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Be(e,t){return!t||"object"!==We(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ze(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ke(e){return(Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Je=DC.Namespace.Cesium,Ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(l,e);var t,r,n,i,c=(t=l,function(){var e,r=Ke(t);if(Ze()){var n=Ke(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return Be(this,e)});function l(e,t){var r;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),!o.b.checkPosition(e))throw new Error("Model: the position invalid");return(r=c.call(this))._position=e,r._modelUrl=t,r._delegate=new Je.Entity,r._rotateAmount=0,r.type=s.getOverlayType("model"),r._state=a.a.INITIALIZED,r}return r=l,(n=[{key:"_mountedHook",value:function(){var e=this;this._delegate.position=new Je.CallbackProperty((function(t){return u.a.transformWGS84ToCartesian(e._position)})),this._delegate.orientation=new Je.CallbackProperty((function(t){return e._rotateAmount>0&&(e._position.heading+=e._rotateAmount,360===e._position.heading&&(e._position.heading=0)),Je.Transforms.headingPitchRollQuaternion(u.a.transformWGS84ToCartesian(e._position),new Je.HeadingPitchRoll(Je.Math.toRadians(e._position.heading),Je.Math.toRadians(e._position.pitch),Je.Math.toRadians(e._position.roll)))})),this._delegate.model=Ge({},this._style,{uri:new Je.CallbackProperty((function(t){return e._modelUrl}))})}},{key:"setLabel",value:function(e,t){return this._delegate.label=Ge({},t,{text:e}),this}},{key:"setStyle",value:function(e){return 0==Object.keys(e).length||(this._style=e,this._delegate.model&&o.b.merge(this._delegate.model,this._style)),this}},{key:"position",set:function(e){if(!o.b.checkPosition(e))throw new Error("Model: the position invalid");this._position=e},get:function(){return this._position}},{key:"modelUrl",set:function(e){this._modelUrl=e},get:function(){return this._modelUrl}},{key:"rotateAmount",set:function(e){this._rotateAmount=e},get:function(){return this._rotateAmount}}])&&ze(r.prototype,n),i&&ze(r,i),l}(s);s.registerType("model");var Xe=Ye;function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(r),!0).forEach((function(t){et(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function et(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ot(e,t){return!t||"object"!==qe(t)&&"function"!=typeof t?it(e):t}function it(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function at(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var st=DC.Namespace.Cesium,ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(u,e);var t,r,n,i,c=(t=u,function(){var e,r=ct(t);if(at()){var n=ct(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return ot(this,e)});function u(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return tt(this,u),(t=c.call(this))._delegate=new st.Cesium3DTileset(Qe({},r,{url:e})),t._delegate.tileVisible.addEventListener(t._tileVisibleHandler,it(t)),t._height=void 0,t._properties=void 0,t._stopTime=void 0,t._duration=void 0,t._center=void 0,t.type=s.getOverlayType("tileset"),t._state=a.a.INITIALIZED,t}return r=u,(n=[{key:"_addHandler",value:function(e){var t=this;if(!e)return!1;this._layer=e,this._delegate.readyPromise.then((function(r){t._layer.delegate.add(r),r.layer=e,r.overlayId=t._id,t._state=a.a.ADDED}))}},{key:"_removeHandler",value:function(){var e=this;if(!this._layer)return!1;this._delegate.readyPromise.then((function(t){e._layer.delegate.remove(t),e._state=a.a.REMOVED}))}},{key:"_tileVisibleHandler",value:function(e){this._updateProperties(e),this._updateHeight(e)}},{key:"_updateProperties",value:function(e){var t=this;if(this._properties&&this._properties.length)for(var r=e.content,n=function(e){var n=r.getFeature(e);t._properties.forEach((function(e){n.hasProperty(e.key)&&n.getProperty(e.key)===e.keyValue&&n.setProperty(e.propertyName,e.propertyValue)}))},o=0;o<r.featuresLength;o++)n(o)}},{key:"_updateHeight",value:function(e){if(this._duration){var t=this._height/this._duration,r=st.JulianDate.now();this._stopTime&&st.JulianDate.greaterThan(this._stopTime,r)&&this._setHeight((this._duration-st.JulianDate.secondsDifference(this._stopTime,r))*t)}}},{key:"_setHeight",value:function(e){var t=this;this._delegate.readyPromise.then((function(r){var n=st.Cartesian3.fromRadians(t._center.longitude,t._center.latitude,t._center.height),o=st.Cartesian3.fromRadians(t._center.longitude,t._center.latitude,t._center.height+e),i=st.Cartesian3.subtract(o,n,new st.Cartesian3);r.modelMatrix=st.Matrix4.fromTranslation(i)}))}},{key:"setPosition",value:function(e){return o.b.checkPosition(e)?(this._delegate.readyPromise.then((function(t){var r=st.Transforms.eastNorthUpToFixedFrame(st.Cartesian3.fromDegrees(e.lng,e.lat,e.alt)),n=st.Matrix4.fromRotationTranslation(st.Matrix3.fromRotationZ(st.Math.toRadians(e.heading)));st.Matrix4.multiply(r,n,r),t.root.transform=r})),this):this}},{key:"setHeight",value:function(e,t){var r=this;return this._height=e,this._delegate.readyPromise.then((function(e){r._center=st.Cartographic.fromCartesian(e.boundingSphere.center),t?(r._duration=t,r._stopTime=st.JulianDate.addSeconds(st.JulianDate.now(),t,new st.JulianDate)):r._setHeight(r._height)})),this}},{key:"setScale",value:function(e){return this._delegate.readyPromise.then((function(t){var r=t.root.transform;e>0&&1!==e&&st.Matrix4.multiplyByUniformScale(r,e,r),t.root.transform=r})),this}},{key:"setFeatureProperty",value:function(e){return this._properties=e,this}},{key:"setStyle",value:function(e){return e&&e instanceof st.Cesium3DTileStyle&&(this._style=e,this._delegate&&(this._delegate.style=this._style)),this}},{key:"readyPromise",get:function(){return this._delegate.readyPromise}}])&&rt(r.prototype,n),i&&rt(r,i),u}(s);s.registerType("tileset");var lt=ut},21:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return f})),r.d(t,"d",(function(){return p})),r.d(t,"e",(function(){return h})),r.d(t,"f",(function(){return d}));var n=r(12);function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=DC.Namespace.Cesium;function c(e){var t=0;if(e&&Array.isArray(e)){for(var r=0,i=a.Ellipsoid.WGS84,c=o(c).concat(c[0]),s=1;s<c.length;s++){var u=i.cartographicToCartesian(n.a.transformWGS84ToCartographic(c[s-1])),l=i.cartographicToCartesian(n.a.transformWGS84ToCartographic(c[s]));r+=u.x*l.y-l.x*u.y}t=Math.abs(r).toFixed(2)}return t}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=180,n=90,o=-180,i=-90;if(e.forEach((function(e){r=Math.min(r,e.lng||e.x),n=Math.min(n,e.lat||e.y),o=Math.max(o,e.lng||e.x),i=Math.max(i,e.lat||e.y)})),t>0){var a=Math.abs(o-o),c=Math.abs(i-n);r-=a*t,n-=c*t,o+=a*t,i+=c*t}return{west:r,south:n,east:o,north:i}}var u=r(19),l=DC.Namespace.Cesium;function f(e){if(e&&Array.isArray(e)){var t=l.BoundingSphere.fromPoints(n.a.transformWGS84ArrayToCartesianArray(e));return n.a.transformCartesianToWGS84(t.center)}return new u.a}function p(e){var t=0;if(e&&Array.isArray(e))for(var r=0;r<e.length-1;r++){var o=n.a.transformWGS84ToCartographic(e[r]),i=n.a.transformWGS84ToCartographic(e[r+1]),a=new Cesium.EllipsoidGeodesic;a.setEndPoints(o,i);var c=a.surfaceDistance;t+=c=Math.sqrt(Math.pow(c,2)+Math.pow(i.height-o.height,2))}return t.toFixed(3)}var y=DC.Namespace.Cesium;function h(e,t){var r=0;e instanceof u.a&&(e=n.a.transformWGS84ToCartesian(e)),t instanceof u.a&&(t=n.a.transformWGS84ToCartesian(t));var o=y.Cartesian3.subtract(t,e,new y.Cartesian3);if(o){y.Cartesian3.normalize(o,o);var i=y.Ellipsoid.WGS84.geodeticSurfaceNormal(e,new y.Cartesian3),a=y.Cartesian3.cross(y.Cartesian3.UNIT_Z,i,new y.Cartesian3),c=y.Cartesian3.cross(i,a,new y.Cartesian3);r=Math.atan2(y.Cartesian3.dot(o,a),y.Cartesian3.dot(o,c))}return r}function d(e,t,r){return(e=parseFloat(e||0))>=parseFloat(t)&&e<=parseFloat(r)}},26:function(e,t,r){"use strict";var n=r(19);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,i=[{key:"parsePosition",value:function(e){var t=new n.a;return"string"==typeof e?t=n.a.fromCoordString(e):Array.isArray(e)?t=n.a.fromCoordArray(e):item instanceof n.a&&(t=item),t}},{key:"parsePositions",value:function(e){if("string"==typeof e){if(e.indexOf("#")>=0)throw new Error("the positions invalid");e=e.split(";")}return e.map((function(e){return Array.isArray(e)?n.a.fromCoordArray(e):e instanceof n.a?e:n.a.fromCoordString(e)}))}}],(r=null)&&o(t.prototype,r),i&&o(t,i),e}();t.a=i},27:function(e,t,r){"use strict";r.d(t,"e",(function(){return n})),r.d(t,"d",(function(){return u})),r.d(t,"a",(function(){return g})),r.d(t,"b",(function(){return D})),r.d(t,"c",(function(){return W})),r.d(t,"f",(function(){return J})),r.d(t,"g",(function(){return re})),r.d(t,"h",(function(){return fe}));var n={},o=r(8),i=r(15),a=r(9);function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=DC.Namespace.Cesium,u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=t||o.b.uuid(),this._delegate=void 0,this._viewer=void 0,this._state=void 0,this._show=!0,this._cache={},this._attr={},this._style={},this._layerEvent=new i.c,this._layerEvent.on(i.d.ADD,this._addHandler,this),this._layerEvent.on(i.d.REMOVE,this._removeHandler,this),this._state=void 0,this.type=void 0}var t,r,u;return t=e,u=[{key:"registerType",value:function(e){e&&(n[e.toLocaleUpperCase()]=e.toLocaleLowerCase())}},{key:"getLayerType",value:function(e){return n[e.toLocaleUpperCase()]||void 0}}],(r=[{key:"_addedHook",value:function(){}},{key:"_removedHook",value:function(){}},{key:"_addHandler",value:function(e){this._viewer=e,this._delegate instanceof s.PrimitiveCollection?this._viewer.scene.primitives.add(this._delegate):this._viewer.dataSources.add(this._delegate),this._addedHook&&this._addedHook(),this._state=a.a.ADDED}},{key:"_removeHandler",value:function(){if(!this._delegate)return!1;this._viewer&&(this._cache={},this._delegate instanceof s.PrimitiveCollection?(this._delegate.removeAll(),this._viewer.scene.primitives.remove(this._delegate)):this._delegate.then?(this._delegate.then((function(e){e.entities.removeAll()})),this._viewer.dataSources.remove(this._delegate)):(this._delegate.entities&&this._delegate.entities.removeAll(),this._viewer.dataSources.remove(this._delegate)),this._removedHook&&this._removedHook(),this._state=a.a.REMOVED)}},{key:"_addOverlay",value:function(e){e&&e.overlayEvent&&!this._cache.hasOwnProperty(e.overlayId)&&(e.overlayEvent.fire(i.h.ADD,this),this._cache[e.overlayId]=e,this._state===a.a.CLEARED&&(this._state=a.a.ADDED))}},{key:"_removeOverlay",value:function(e){e&&e.overlayEvent&&this._cache.hasOwnProperty(e.overlayId)&&(e.overlayEvent.fire(i.h.REMOVE,this),delete this._cache[e.overlayId])}},{key:"addOverlay",value:function(e){return this._addOverlay(e),this}},{key:"addOverlays",value:function(e){var t=this;return Array.isArray(e)&&e.forEach((function(e){t._addOverlay(overlay)})),this}},{key:"removeOverlay",value:function(e){return this._removeOverlay(e),this}},{key:"getOverlay",value:function(e){return this._cache[e]||void 0}},{key:"getOverlayById",value:function(e){var t=this,r=void 0;return Object.keys(this._cache).forEach((function(n){t._cache[n].id===e&&(r=t._cache[n])})),r}},{key:"getOverlaysByAttr",value:function(e,t){var r=[];return this.eachOverlay((function(n){n.attr[e]===t&&r.push(n)})),r}},{key:"eachOverlay",value:function(e,t){var r=this;return Object.keys(this._cache).forEach((function(n){e&&e.call(t,r._cache[n])})),this}},{key:"getOverlays",value:function(){var e=this,t=[];return Object.keys(this._cache).forEach((function(r){t.push(e._cache[r])})),t}},{key:"clear",value:function(){}},{key:"remove",value:function(){this._viewer&&this._viewer.removeLayer(this)}},{key:"addTo",value:function(e){return e&&e.addLayer&&e.addLayer(this),this}},{key:"setStyle",value:function(e){}},{key:"show",set:function(e){this._show=e,this._delegate&&(this._delegate.show=this._show)},get:function(){return this._show}},{key:"layerEvent",get:function(){return this._layerEvent}},{key:"attr",set:function(e){this._attr=e},get:function(){return this._attr}},{key:"id",get:function(){return this._id}},{key:"delegate",get:function(){return this._delegate}},{key:"state",get:function(){return this._state}}])&&c(t.prototype,r),u&&c(t,u),e}(),l=r(20);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=DC.Namespace.Cesium,m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(c,e);var t,r,n,o,i=(t=c,function(){var e,r=b(t);if(v()){var n=b(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return d(this,e)});function c(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(p(this,c),!t)throw new Error("GeoJsonLayer：the url invalid");return(r=i.call(this,e))._delegate=_.GeoJsonDataSource.load(t,n),r.type=u.getLayerType("geojson"),r._state=a.a.INITIALIZED,r}return r=c,(n=[{key:"_createBillboard",value:function(e){if(e.position&&e.billboard)return l.a.fromEntity(e)}},{key:"_createPolyline",value:function(e){if(e.polyline)return l.j.fromEntity(e)}},{key:"_createPolygon",value:function(e){if(e.polygon)return l.i.fromEntity(e)}},{key:"eachOverlay",value:function(e,t){if(this._delegate)return this._delegate.then((function(r){r.entities.values.forEach((function(r){e.call(t,r)}))})),this}},{key:"toVectorLayer",value:function(){var e=new fe(this._id),t=this;return this.eachOverlay((function(r){r.billboard?e.addOverlay(t._createBillboard(r)):r.polyline?e.addOverlay(t._createPolyline(r)):r.polygon&&e.addOverlay(t._createPolygon(r))})),e}},{key:"show",set:function(e){var t=this;this._show=e,this._delegate&&this._delegate.then((function(e){e.show=t._show}))},get:function(){return this._show}}])&&y(r.prototype,n),o&&y(r,o),c}(u);u.registerType("geojson");var g=m,w=r(12);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=DC.Namespace.Cesium,j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(s,e);var t,r,n,i,c=(t=s,function(){var e,r=P(t);if(S()){var n=P(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return C(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=c.call(this,e))._delegate=o.a.create("div","html-layer"),t._delegate.setAttribute("id",t._id),t._renderRemoveCallback=void 0,t.type=u.getLayerType("html"),t._state=a.a.INITIALIZED,t}return r=s,(n=[{key:"_addHandler",value:function(e){var t=this;this._viewer=e,this._viewer.dcContainer.appendChild(this._delegate);var r=this._viewer.scene;this._renderRemoveCallback=r.postRender.addEventListener((function(){var e=t._viewer.camera.positionWC;t.eachOverlay((function(t){if(t&&t.position){var n=w.a.transformWGS84ToCartesian(t.position),o=T.SceneTransforms.wgs84ToWindowCoordinates(r,n),i=T.Cartesian3.distance(n,e);t._updateStyle({transform:o},i)}}))}),this),this._state=a.a.ADDED}},{key:"_removeHandler",value:function(){this._renderRemoveCallback&&this._renderRemoveCallback(),this._viewer.dcContainer.removeChild(this._delegate),this._state=a.a.REMOVED}},{key:"clear",value:function(){for(var e=this._delegate.childNodes,t=e.length-1;t>=0;t--)this._delegate.removeChild(e[t]);return this._cache={},this._state=a.a.CLEARED,this}},{key:"show",set:function(e){this._show=e,this._delegate.style.visibility=this._show?"visible":"hidden"},get:function(){return this._show}}])&&k(r.prototype,n),i&&k(r,i),s}(u);u.registerType("html");var D=j;function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N=DC.Namespace.Cesium,H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(c,e);var t,r,n,o,i=(t=c,function(){var e,r=x(t);if(A()){var n=x(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return M(this,e)});function c(e,t){var r;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),!t)throw new Error("LabelLayer：the url invalid");return(r=i.call(this,e))._dataSource=N.GeoJsonDataSource.load(t),r._delegate=new N.CustomDataSource(e),r._initLabel(),r.type=u.registerType("label"),r._state=a.a.INITIALIZED,r}return r=c,(n=[{key:"_createLabel",value:function(e){if(e.position&&item.name)return l.d.fromEntity(e)}},{key:"_initLabel",value:function(){var e=this;this._dataSource.then((function(t){t.entities.values.forEach((function(t){var r=e._createLabel(t);e.addOverlay(r)}))}))}}])&&L(r.prototype,n),o&&L(r,o),c}(u);u.registerType("label");var W=H;function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Z=DC.Namespace.Cesium,K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(c,e);var t,r,n,o,i=(t=c,function(){var e,r=B(t);if(F()){var n=B(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return z(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e))._delegate=new Z.PrimitiveCollection,t.type=u.getLayerType("tileset"),t._state=a.a.INITIALIZED,t}return r=c,(n=[{key:"clear",value:function(){return this._delegate.removeAll(),this._cache={},this._state=a.a.CLEARED,this}}])&&G(r.prototype,n),o&&G(r,o),c}(u);u.registerType("tileset");var J=K;function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Q(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(n,e);var t,r=(t=n,function(){var e,r=ee(t);if(Q()){var n=ee(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return $(this,e)});function n(e,t){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(X(this,n),!t)throw new Error("TopoJsonLayer：the url invalid");return(o=r.call(this,e,t,i)).type=g.getLayerType("topojson"),o._state=a.a.INITIALIZED,o}return n}(g);g.registerType("topojson");var re=te;function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ce(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ue=DC.Namespace.Cesium,le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(c,e);var t,r,n,o,i=(t=c,function(){var e,r=se(t);if(ce()){var n=se(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return ae(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e))._delegate=new ue.CustomDataSource(e),t.type=u.getLayerType("vector"),t._state=a.a.INITIALIZED,t}return r=c,(n=[{key:"clear",value:function(){return this._delegate.entities&&this._delegate.entities.removeAll(),this._cache={},this._state=a.a.CLEARED,this}}])&&oe(r.prototype,n),o&&oe(r,o),c}(u);u.registerType("vector");var fe=le},44:function(e,t,r){"use strict";t.a={}},8:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return i}));var o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,i=[{key:"uuid",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"D",r=[];r[8]=r[13]=r[18]=r[23]="-",r[14]="4";for(var n=0;n<36;n++)r[n]||(e=0|16*Math.random(),r[n]=o[19==n?3&e|8:e]);return t+"-"+r.join("")}},{key:"merge",value:function(e){for(var t,r,n,o,i=arguments.length,a=new Array(i>1?i-1:0),c=1;c<i;c++)a[c-1]=arguments[c];for(r=0,n=a.length;r<n;r++)for(t in o=a[r])e[t]=o[t];return e}},{key:"trim",value:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}},{key:"splitWords",value:function(e){return this.trim(e).split(/\s+/)}},{key:"setOptions",value:function(e,t){for(var r in e.hasOwnProperty("options")||(e.options=e.options?create(e.options):{}),t)e.options[r]=t[r];return e.options}},{key:"checkPosition",value:function(e){return e&&e.hasOwnProperty("_lng")&&e.hasOwnProperty("_lat")&&e.hasOwnProperty("_alt")}},{key:"checkPositions",value:function(e){return e&&("string"==typeof e||Array.isArray(e))}},{key:"checkViewer",value:function(e){return e&&e.delegate&&e.canvas}}],(r=null)&&n(t.prototype,r),i&&n(t,i),e}();function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"get",value:function(e){return"string"==typeof e?document.getElementById(e):e}},{key:"getStyle",value:function(e,t){var r=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!r||"auto"===r)&&document.defaultView){var n=document.defaultView.getComputedStyle(e,null);r=n?n[t]:null}return"auto"===r?null:r}},{key:"create",value:function(e,t,r){var n=document.createElement(e);return n.className=t||"",r&&r.appendChild(n),n}},{key:"remove",value:function(e){var t=e.parentNode;t&&t.removeChild(e)}},{key:"empty",value:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}},{key:"addClass",value:function(e,t){if(void 0!==e.classList)for(var r=i.splitWords(t),n=0,o=r.length;n<o;n++)e.classList.add(r[n]);else if(!this.hasClass(e,t)){var a=this.getClass(e);this.setClass(e,(a?a+" ":"")+t)}}},{key:"removeClass",value:function(e,t){void 0!==e.classList?e.classList.remove(t):this.setClass(e,i.trim((" "+this.getClass(e)+" ").replace(" "+t+" "," ")))}},{key:"setClass",value:function(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}},{key:"getClass",value:function(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}},{key:"createSvg",value:function(e,t,r,n){var o=document.createElementNS("http://www.w3.org/2000/svg","svg:svg");o.setAttribute("class","svg-path"),o.setAttribute("width",e),o.setAttribute("height",t),o.setAttribute("viewBox","0 0 ".concat(e," ").concat(t));var i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d",r),o.appendChild(i),n&&n.appendChild(o),o}}],(r=[{key:"hasClass",value:function(e,t){if(void 0!==e.classList)return e.classList.contains(t);var r=getClass(e);return r.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(r)}}])&&a(t.prototype,r),n&&a(t,n),e}()},9:function(e,t,r){"use strict";t.a={INITIALIZED:"initialized",ADDED:"added",REMOVED:"removed",CLEARED:"cleared",INSTALLED:"installed",ENABLED:"enabled",DISABLED:"disabled"}}});